# Axis VAPIX PTZ Control - Control Axis camera PTZ (Pan/Tilt/Zoom) via VAPIX API
tool_name: Axis-VAPIX-PTZ-Control
execution_location: network-service
version: '2.0'
description: |
  Control Axis camera PTZ (Pan/Tilt/Zoom) functions via VAPIX HTTP API.
  Supports preset positions, absolute positioning, and relative movements.
platform: network
category: network
defaults:
  accuracy_level: real-time
  freshness: live
  data_source: direct
  protocol: http
  path: /axis-cgi/com/ptz.cgi
  auth_type: digest
  method: GET
capabilities:
  goto_preset:
    description: Move camera to a saved preset position by name or number
    patterns:
      move_to_preset_by_name:
        description: Move Axis camera to preset position using preset name
        typical_use_cases:
        - move axis camera to preset
        - go to preset position
        - move camera to wall preset
        - move camera to home preset
        - axis camera goto preset
        time_estimate_ms: '2000'
        cost_estimate: '1'
        complexity_score: 0.3
        scope: single_item
        completeness: complete
        policy:
          max_cost: 5
          requires_approval: false
          production_safe: true
          max_execution_time: 10
        preference_match:
          speed: 0.9
          accuracy: 0.95
          cost: 0.9
          complexity: 0.7
          completeness: 1.0
        required_inputs:
        - name: host
          type: string
          description: |
            Axis camera IP address or hostname.
            
            EXAMPLES:
            - "192.168.1.100" (IP address)
            - "camera-lobby.local" (hostname)
            - "axis-ptz-01.company.com" (FQDN)
          validation: ^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$|^[a-zA-Z0-9.-]+$
        - name: username
          type: string
          description: |
            Camera API username with PTZ operator or administrator privileges.
            
            REQUIRED PERMISSIONS:
            - PTZ Operator: Can control PTZ movements
            - Administrator: Full PTZ control including preset management
          validation: .+
        - name: password
          type: string
          description: Camera API password for authentication
          validation: .+
        - name: preset_name
          type: string
          description: |
            Name of the preset position to move to.
            
            VALUE MEANINGS:
            - Preset names are case-sensitive strings configured in camera
            - Common preset names: "home", "entrance", "parking", "wall", "ceiling"
            
            WHEN TO USE:
            - Use when user specifies preset by name: "go to home preset"
            - Use when preset name is known from camera configuration
            
            NATURAL LANGUAGE MAPPING:
            - "move to home" → preset_name="home"
            - "go to entrance preset" → preset_name="entrance"
            - "camera to parking position" → preset_name="parking"
            
            EXAMPLES:
            - "home" - Return to home position
            - "entrance" - View entrance area
            - "parking_lot_1" - View parking lot 1
          validation: .+
        api_parameters:
          gotoserverpresetname: "{preset_name}"
        example_request: "GET http://{host}/axis-cgi/com/ptz.cgi?gotoserverpresetname={preset_name}"
      move_to_preset_by_number:
        description: Move Axis camera to preset position using preset number
        typical_use_cases:
        - move axis camera to preset number
        - go to preset 1
        - axis camera goto preset number
        time_estimate_ms: '2000'
        cost_estimate: '1'
        complexity_score: 0.3
        scope: single_item
        completeness: complete
        policy:
          max_cost: 5
          requires_approval: false
          production_safe: true
          max_execution_time: 10
        preference_match:
          speed: 0.9
          accuracy: 0.95
          cost: 0.9
          complexity: 0.7
          completeness: 1.0
        required_inputs:
        - name: host
          type: string
          description: |
            Axis camera IP address or hostname.
            
            EXAMPLES:
            - "192.168.1.100" (IP address)
            - "camera-lobby.local" (hostname)
          validation: ^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$|^[a-zA-Z0-9.-]+$
        - name: username
          type: string
          description: Camera API username with PTZ operator or administrator privileges
          validation: .+
        - name: password
          type: string
          description: Camera API password for authentication
          validation: .+
        - name: preset_number
          type: integer
          description: |
            Number of the preset position to move to.
            
            VALUE MEANINGS:
            - Valid range: 1-100
            - Preset numbers are configured in camera settings
            - Not all numbers may be configured (camera will return error if preset doesn't exist)
            
            WHEN TO USE:
            - Use when user specifies preset by number: "go to preset 5"
            - Use when preset number is known from camera configuration
            
            NATURAL LANGUAGE MAPPING:
            - "go to preset 1" → preset_number=1
            - "move to preset number 10" → preset_number=10
            
            EXAMPLES:
            - 1 - Preset position 1
            - 5 - Preset position 5
            - 100 - Preset position 100 (maximum)
          validation: ^[1-9][0-9]?$|^100$
        api_parameters:
          gotoserverpresetno: "{preset_number}"
        example_request: "GET http://{host}/axis-cgi/com/ptz.cgi?gotoserverpresetno={preset_number}"
  absolute_move:
    description: Move camera to absolute pan/tilt/zoom position
    patterns:
      absolute_position:
        description: Move camera to specific pan/tilt/zoom coordinates
        typical_use_cases:
        - move camera to absolute position
        - set camera pan tilt zoom
        - axis camera absolute move
        - zoom in 2x
        - zoom out
        - set zoom level
        time_estimate_ms: '2000'
        cost_estimate: '1'
        complexity_score: 0.4
        scope: single_item
        completeness: complete
        policy:
          max_cost: 5
          requires_approval: false
          production_safe: true
          max_execution_time: 10
        preference_match:
          speed: 0.9
          accuracy: 0.95
          cost: 0.9
          complexity: 0.6
          completeness: 1.0
        required_inputs:
        - name: host
          type: string
          description: |
            Axis camera IP address or hostname.
            
            EXAMPLES:
            - "192.168.1.100"
            - "camera-ptz.local"
          validation: ^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$|^[a-zA-Z0-9.-]+$
        - name: username
          type: string
          description: Camera API username with PTZ operator or administrator privileges
          validation: .+
        - name: password
          type: string
          description: Camera API password for authentication
          validation: .+
        - name: pan
          type: float
          description: |
            Absolute pan position in degrees.
            
            VALUE MEANINGS:
            - Range: -180 to +180 degrees
            - 0 degrees: Camera facing forward (reference direction)
            - Positive values: Pan right (clockwise when viewed from above)
            - Negative values: Pan left (counter-clockwise when viewed from above)
            
            WHEN TO USE:
            - Use when user specifies absolute pan direction
            - Use when setting camera to face specific direction
            - Required for absolute positioning
            
            NATURAL LANGUAGE MAPPING:
            - "face forward" → pan=0
            - "turn 90 degrees right" → pan=90
            - "turn 90 degrees left" → pan=-90
            - "face backward" → pan=180 or pan=-180
            
            EXAMPLES:
            - 0 - Forward facing
            - 90 - 90 degrees right
            - -90 - 90 degrees left
            - 180 - Backward facing
          validation: ^-?([0-9]|[1-9][0-9]|1[0-7][0-9]|180)(\.[0-9]+)?$
        - name: tilt
          type: float
          description: |
            Absolute tilt position in degrees.
            
            VALUE MEANINGS:
            - Range: -180 to +180 degrees (actual range depends on camera model)
            - 0 degrees: Camera facing horizontal
            - Positive values: Tilt up (camera points upward)
            - Negative values: Tilt down (camera points downward)
            
            WHEN TO USE:
            - Use when user specifies absolute tilt angle
            - Use when setting camera to specific vertical angle
            - Required for absolute positioning
            
            NATURAL LANGUAGE MAPPING:
            - "look straight ahead" → tilt=0
            - "tilt up 45 degrees" → tilt=45
            - "tilt down 30 degrees" → tilt=-30
            - "look at ceiling" → tilt=90
            - "look at floor" → tilt=-90
            
            EXAMPLES:
            - 0 - Horizontal
            - 45 - 45 degrees up
            - -30 - 30 degrees down
            - 90 - Pointing straight up
            - -90 - Pointing straight down
          validation: ^-?([0-9]|[1-9][0-9]|1[0-7][0-9]|180)(\.[0-9]+)?$
        - name: zoom
          type: integer
          description: |
            Absolute zoom level for the camera lens.
            
            VALUE MEANINGS:
            - Range: 1 to 9999
            - 1: Wide angle (minimum zoom, maximum field of view)
            - 9999: Maximum zoom (telephoto, minimum field of view)
            - Values scale linearly between these extremes
            
            WHEN TO USE:
            - Use when user requests specific zoom level: "zoom to 5000"
            - Use when user wants to "zoom in" (increase value) or "zoom out" (decrease value)
            - Use for precise zoom positioning in automated sequences
            - IMPORTANT: For "zoom in 2x" requests, get current zoom and multiply by 2
            
            NATURAL LANGUAGE MAPPING:
            - "zoom in 2x" → Get current zoom, multiply by 2 (e.g., 1000 → 2000)
            - "zoom in" → Increase zoom value (e.g., current + 1000)
            - "zoom out" → Decrease zoom value (e.g., current - 1000)
            - "zoom out 2x" → Get current zoom, divide by 2 (e.g., 2000 → 1000)
            - "maximum zoom" → zoom=9999
            - "wide angle" → zoom=1
            - "medium zoom" → zoom=5000
            
            EXAMPLES:
            - 1 - Widest field of view
            - 1000 - Slight zoom
            - 5000 - Medium zoom (50% of maximum)
            - 9999 - Maximum telephoto zoom
          validation: ^[1-9][0-9]{0,3}$
          required: false
        api_parameters:
          pan: "{pan}"
          tilt: "{tilt}"
          zoom: "{zoom}"
        example_request: "GET http://{host}/axis-cgi/com/ptz.cgi?pan={pan}&tilt={tilt}&zoom={zoom}"
  relative_move:
    description: Move camera relative to current position
    patterns:
      relative_position:
        description: Move camera by relative pan/tilt/zoom offset from current position
        typical_use_cases:
        - move camera left
        - move camera right
        - pan camera
        - tilt camera up
        - tilt camera down
        - zoom in relative
        - zoom out relative
        time_estimate_ms: '2000'
        cost_estimate: '1'
        complexity_score: 0.4
        scope: single_item
        completeness: complete
        policy:
          max_cost: 5
          requires_approval: false
          production_safe: true
          max_execution_time: 10
        preference_match:
          speed: 0.9
          accuracy: 0.95
          cost: 0.9
          complexity: 0.6
          completeness: 1.0
        required_inputs:
        - name: host
          type: string
          description: |
            Axis camera IP address or hostname.
            
            EXAMPLES:
            - "192.168.1.100"
            - "camera-ptz.local"
          validation: ^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$|^[a-zA-Z0-9.-]+$
        - name: username
          type: string
          description: Camera API username with PTZ operator or administrator privileges
          validation: .+
        - name: password
          type: string
          description: Camera API password for authentication
          validation: .+
        - name: rpan
          type: float
          description: |
            Relative pan movement in degrees from current position.
            
            VALUE MEANINGS:
            - Positive values: Pan right (clockwise)
            - Negative values: Pan left (counter-clockwise)
            - Value is added to current pan position
            
            WHEN TO USE:
            - Use when user wants to move camera left/right from current position
            - Use for incremental adjustments: "pan left a bit"
            - Use when absolute position is unknown
            
            NATURAL LANGUAGE MAPPING:
            - "pan left" → rpan=-10 (small movement)
            - "pan right" → rpan=10 (small movement)
            - "pan left 45 degrees" → rpan=-45
            - "turn right 90 degrees" → rpan=90
            - "move camera left a bit" → rpan=-5
            
            EXAMPLES:
            - 10 - Pan 10 degrees right
            - -10 - Pan 10 degrees left
            - 45 - Pan 45 degrees right
            - -90 - Pan 90 degrees left
          validation: ^-?[0-9]+(\.[0-9]+)?$
        - name: rtilt
          type: float
          description: |
            Relative tilt movement in degrees from current position.
            
            VALUE MEANINGS:
            - Positive values: Tilt up
            - Negative values: Tilt down
            - Value is added to current tilt position
            
            WHEN TO USE:
            - Use when user wants to move camera up/down from current position
            - Use for incremental adjustments: "tilt up a little"
            - Use when absolute position is unknown
            
            NATURAL LANGUAGE MAPPING:
            - "tilt up" → rtilt=10 (small movement)
            - "tilt down" → rtilt=-10 (small movement)
            - "tilt up 30 degrees" → rtilt=30
            - "look down 45 degrees" → rtilt=-45
            - "move camera up a bit" → rtilt=5
            
            EXAMPLES:
            - 10 - Tilt 10 degrees up
            - -10 - Tilt 10 degrees down
            - 30 - Tilt 30 degrees up
            - -45 - Tilt 45 degrees down
          validation: ^-?[0-9]+(\.[0-9]+)?$
        - name: rzoom
          type: integer
          description: |
            Relative zoom movement from current zoom level.
            
            VALUE MEANINGS:
            - Positive values: Zoom in (increase zoom, narrow field of view)
            - Negative values: Zoom out (decrease zoom, wider field of view)
            - Value is added to current zoom level
            - Typical range: -5000 to +5000
            
            WHEN TO USE:
            - Use when user wants to zoom in/out from current level
            - Use for incremental zoom adjustments
            - Use when absolute zoom level is unknown
            
            NATURAL LANGUAGE MAPPING:
            - "zoom in" → rzoom=1000 (moderate zoom in)
            - "zoom out" → rzoom=-1000 (moderate zoom out)
            - "zoom in a lot" → rzoom=3000
            - "zoom out a little" → rzoom=-500
            - "zoom in 2x" → rzoom=<current_zoom_value> (double current zoom)
            
            EXAMPLES:
            - 1000 - Zoom in moderately
            - -1000 - Zoom out moderately
            - 3000 - Zoom in significantly
            - -500 - Zoom out slightly
          validation: ^-?[0-9]+$
          required: false
        api_parameters:
          rpan: "{rpan}"
          rtilt: "{rtilt}"
          rzoom: "{rzoom}"
        example_request: "GET http://{host}/axis-cgi/com/ptz.cgi?rpan={rpan}&rtilt={rtilt}&rzoom={rzoom}"
metadata:
  author: OpsConductor Team
  created: '2025-01-15'
  updated: '2025-01-15'
  version_notes: |
    v2.0 - Major quality improvement update:
    - Removed zoom_control capability (band-aid fix)
    - Enriched all parameter descriptions with value meanings, usage guidance, and examples
    - Added natural language mapping for LLM tool usage
    - Consolidated zoom control into absolute_move and relative_move patterns
    - Improved validation patterns and examples
  tags:
  - axis
  - vapix
  - camera
  - ptz
  - pan
  - tilt
  - zoom
  - network
  - surveillance
  documentation_url: https://developer.axis.com/vapix/network-video/pantiltzoom-api/
  api_reference: https://developer.axis.com/vapix/
  notes: |
    Axis VAPIX PTZ Control API
    
    AUTHENTICATION:
    - HTTP Digest Authentication (recommended)
    - HTTP Basic Authentication (supported but less secure)
    
    COMMON PARAMETERS:
    - gotoserverpresetname=<name> : Move to preset by name
    - gotoserverpresetno=<number> : Move to preset by number (1-100)
    - pan=<degrees> : Absolute pan position (-180 to 180)
    - tilt=<degrees> : Absolute tilt position (-180 to 180)
    - zoom=<value> : Absolute zoom level (1-9999)
    - rpan=<degrees> : Relative pan movement
    - rtilt=<degrees> : Relative tilt movement
    - rzoom=<value> : Relative zoom movement
    
    RESPONSE:
    - Success: HTTP 204 No Content
    - Error: HTTP 4xx/5xx with error message
    
    EXAMPLE USAGE:
    
    1. Move to preset by name:
       GET http://192.168.1.100/axis-cgi/com/ptz.cgi?gotoserverpresetname=home
    
    2. Move to preset by number:
       GET http://192.168.1.100/axis-cgi/com/ptz.cgi?gotoserverpresetno=1
    
    3. Absolute positioning (pan, tilt, zoom):
       GET http://192.168.1.100/axis-cgi/com/ptz.cgi?pan=90&tilt=0&zoom=5000
    
    4. Relative movement (pan left 10 degrees):
       GET http://192.168.1.100/axis-cgi/com/ptz.cgi?rpan=-10&rtilt=0
    
    5. Zoom in (relative):
       GET http://192.168.1.100/axis-cgi/com/ptz.cgi?rzoom=1000
    
    6. Zoom out (relative):
       GET http://192.168.1.100/axis-cgi/com/ptz.cgi?rzoom=-1000
    
    7. Set absolute zoom level:
       GET http://192.168.1.100/axis-cgi/com/ptz.cgi?zoom=9999
    
    IMPORTANT NOTES:
    - The "zoom in 2x" bug has been fixed by enriching parameter descriptions
    - LLM should now understand that "zoom in 2x" requires getting current zoom and doubling it
    - All zoom operations can be performed via absolute_move (zoom parameter) or relative_move (rzoom parameter)
    - Preset names are case-sensitive
    - Not all cameras support the full -180 to +180 range for pan/tilt
    - Zoom range may vary by camera model (1-9999 is typical)

# === EXAMPLES ===
examples:
  - name: "Move To Preset By Name"
    description: "Move Axis camera to preset position using preset name"
    inputs:
      host: "192.168.1.100"
      username: "admin"
      password: "secure_password"
      preset_name: "example_name"
    expected_time_ms: 2000
    expected_cost: 1
  - name: "Move To Preset By Number"
    description: "Move Axis camera to preset position using preset number"
    inputs:
      host: "192.168.1.100"
      username: "admin"
      password: "secure_password"
      preset_number: 100
    expected_time_ms: 2000
    expected_cost: 1
  - name: "Absolute Position"
    description: "Move camera to specific pan/tilt/zoom coordinates"
    inputs:
      host: "192.168.1.100"
      username: "admin"
      password: "secure_password"
      pan: "example_pan"
      tilt: "example_tilt"
      zoom: 100
    expected_time_ms: 2000
    expected_cost: 1
  - name: "Relative Position"
    description: "Move camera by relative pan/tilt/zoom offset from current position"
    inputs:
      host: "192.168.1.100"
      username: "admin"
      password: "secure_password"
      rpan: "example_rpan"
      rtilt: "example_rtilt"
      rzoom: 100
    expected_time_ms: 2000
    expected_cost: 1
