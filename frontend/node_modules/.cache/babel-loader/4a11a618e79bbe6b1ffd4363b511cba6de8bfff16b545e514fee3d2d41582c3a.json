{"ast":null,"code":"var _jsxFileName = \"/app/src/pages/RoleManagement.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { hasPermission, PERMISSIONS, PERMISSION_GROUPS } from '../utils/permissions';\nimport { Plus, Edit3, Trash2, Shield, Check, X } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst RoleManagement = () => {\n  _s();\n  var _selectedRole$permiss, _selectedRole$permiss2;\n  const {\n    user: currentUser\n  } = useAuth();\n  const [roles, setRoles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [selectedRole, setSelectedRole] = useState(null);\n  const [editingRole, setEditingRole] = useState(null);\n  const [addingNew, setAddingNew] = useState(false);\n  const [newRole, setNewRole] = useState({\n    name: '',\n    description: '',\n    permissions: [],\n    is_active: true\n  });\n  const [editRole, setEditRole] = useState({\n    name: '',\n    description: '',\n    permissions: [],\n    is_active: true\n  });\n  useEffect(() => {\n    fetchRoles();\n  }, []);\n  const fetchRoles = async () => {\n    try {\n      const token = localStorage.getItem('access_token');\n      const response = await fetch('/api/v1/roles', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to fetch roles');\n      }\n      const data = await response.json();\n      // Sort roles by permission count (most powerful first)\n      const sortedRoles = (data.data || []).sort((a, b) => {\n        var _a$permissions, _a$permissions2, _b$permissions, _b$permissions2;\n        // Wildcard permissions are considered as having infinite permissions\n        const aPermCount = (_a$permissions = a.permissions) !== null && _a$permissions !== void 0 && _a$permissions.includes('*') ? 999999 : ((_a$permissions2 = a.permissions) === null || _a$permissions2 === void 0 ? void 0 : _a$permissions2.length) || 0;\n        const bPermCount = (_b$permissions = b.permissions) !== null && _b$permissions !== void 0 && _b$permissions.includes('*') ? 999999 : ((_b$permissions2 = b.permissions) === null || _b$permissions2 === void 0 ? void 0 : _b$permissions2.length) || 0;\n        return bPermCount - aPermCount;\n      });\n      setRoles(sortedRoles);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to fetch roles');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const startAddingNew = () => {\n    setAddingNew(true);\n    setEditingRole(null);\n    setSelectedRole(null);\n    setNewRole({\n      name: '',\n      description: '',\n      permissions: [],\n      is_active: true\n    });\n  };\n  const cancelAddingNew = () => {\n    setAddingNew(false);\n    setNewRole({\n      name: '',\n      description: '',\n      permissions: [],\n      is_active: true\n    });\n  };\n  const handleEdit = role => {\n    setEditingRole(role);\n    setSelectedRole(role);\n    setAddingNew(false);\n    const permissions = Array.isArray(role.permissions) ? role.permissions : [];\n    setEditRole({\n      name: role.name,\n      description: role.description,\n      permissions: permissions,\n      is_active: role.is_active\n    });\n  };\n  const handleCancelEdit = () => {\n    setEditingRole(null);\n    setEditRole({\n      name: '',\n      description: '',\n      permissions: [],\n      is_active: true\n    });\n  };\n  const saveNewRole = async () => {\n    if (!hasPermission(currentUser, PERMISSIONS.ROLES_CREATE)) {\n      alert('You don\\'t have permission to create roles');\n      return;\n    }\n    if (!newRole.name.trim()) {\n      alert('Role name is required');\n      return;\n    }\n    try {\n      setSaving(true);\n      const token = localStorage.getItem('access_token');\n      const response = await fetch('/api/v1/roles', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newRole)\n      });\n      if (!response.ok) {\n        throw new Error('Failed to create role');\n      }\n      await fetchRoles();\n      cancelAddingNew();\n    } catch (error) {\n      console.error('Failed to create role:', error);\n      alert('Failed to create role');\n    } finally {\n      setSaving(false);\n    }\n  };\n  const handleSaveEdit = async () => {\n    if (!editingRole || !hasPermission(currentUser, PERMISSIONS.ROLES_UPDATE)) {\n      alert('You don\\'t have permission to update roles');\n      return;\n    }\n    if (!editRole.name.trim()) {\n      alert('Role name is required');\n      return;\n    }\n    try {\n      setSaving(true);\n      const token = localStorage.getItem('access_token');\n      const response = await fetch(`/api/v1/roles/${editingRole.id}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(editRole)\n      });\n      if (!response.ok) {\n        throw new Error('Failed to update role');\n      }\n      await fetchRoles();\n      handleCancelEdit();\n    } catch (error) {\n      console.error('Failed to update role:', error);\n      alert('Failed to update role');\n    } finally {\n      setSaving(false);\n    }\n  };\n  const handleDelete = async roleId => {\n    if (!hasPermission(currentUser, PERMISSIONS.ROLES_DELETE)) {\n      alert('You don\\'t have permission to delete roles');\n      return;\n    }\n    if (window.confirm('Delete this role? This action cannot be undone.')) {\n      try {\n        const token = localStorage.getItem('access_token');\n        const response = await fetch(`/api/v1/roles/${roleId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        if (!response.ok) {\n          throw new Error('Failed to delete role');\n        }\n        await fetchRoles();\n        if ((selectedRole === null || selectedRole === void 0 ? void 0 : selectedRole.id) === roleId) {\n          setSelectedRole(null);\n        }\n        if ((editingRole === null || editingRole === void 0 ? void 0 : editingRole.id) === roleId) {\n          setEditingRole(null);\n          handleCancelEdit();\n        }\n      } catch (error) {\n        console.error('Failed to delete role:', error);\n        alert('Failed to delete role');\n      }\n    }\n  };\n  const togglePermission = (permission, isEditing = false) => {\n    if (isEditing) {\n      setEditRole(prev => ({\n        ...prev,\n        permissions: prev.permissions.includes(permission) ? prev.permissions.filter(p => p !== permission) : [...prev.permissions, permission]\n      }));\n    } else {\n      setNewRole(prev => ({\n        ...prev,\n        permissions: prev.permissions.includes(permission) ? prev.permissions.filter(p => p !== permission) : [...prev.permissions, permission]\n      }));\n    }\n  };\n  const selectAllPermissions = (isEditing = false) => {\n    const allPermissions = Object.values(PERMISSION_GROUPS).flat();\n    if (isEditing) {\n      setEditRole(prev => ({\n        ...prev,\n        permissions: allPermissions\n      }));\n    } else {\n      setNewRole(prev => ({\n        ...prev,\n        permissions: allPermissions\n      }));\n    }\n  };\n  const clearAllPermissions = (isEditing = false) => {\n    if (isEditing) {\n      setEditRole(prev => ({\n        ...prev,\n        permissions: []\n      }));\n    } else {\n      setNewRole(prev => ({\n        ...prev,\n        permissions: []\n      }));\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Check if user has permission to access role management\n  if (!hasPermission(currentUser, PERMISSIONS.ROLES_READ)) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dense-dashboard\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 border border-red-200 rounded-lg p-6 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(Shield, {\n          className: \"mx-auto h-12 w-12 text-red-400 mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-red-800 mb-2\",\n          children: \"Access Denied\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600\",\n          children: \"You don't have permission to access role management.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dense-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n          /* Dashboard-style layout - EXACT MATCH */\n          .dense-dashboard {\n            padding: 8px 12px;\n            max-width: 100%;\n            font-size: 13px;\n          }\n          .dashboard-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 12px;\n            padding-bottom: 8px;\n            border-bottom: 1px solid var(--neutral-200);\n          }\n          .header-left h1 {\n            font-size: 18px;\n            font-weight: 600;\n            margin: 0;\n            color: var(--neutral-800);\n          }\n          .dashboard-grid {\n            display: grid;\n            grid-template-columns: 1fr 1fr 1fr;\n            gap: 12px;\n            align-items: stretch;\n            height: calc(100vh - 110px);\n          }\n          .dashboard-section {\n            background: white;\n            border: 1px solid var(--neutral-200);\n            border-radius: 6px;\n            overflow: hidden;\n            display: flex;\n            flex-direction: column;\n            height: 100%;\n          }\n          .section-header {\n            background: var(--neutral-50);\n            padding: 8px 12px;\n            font-weight: 600;\n            font-size: 13px;\n            color: var(--neutral-700);\n            border-bottom: 1px solid var(--neutral-200);\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n          }\n          .compact-content {\n            padding: 0;\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            overflow: auto;\n          }\n          .table-container {\n            flex: 1;\n            overflow: auto;\n          }\n          \n          /* Roles table styles */\n          .roles-table-section {\n            grid-column: 1 / 3;\n          }\n          .roles-table {\n            width: 100%;\n            border-collapse: collapse;\n            font-size: 12px;\n          }\n          .roles-table th {\n            background: var(--neutral-50);\n            padding: 6px 8px;\n            text-align: left;\n            font-weight: 600;\n            color: var(--neutral-700);\n            border-bottom: 1px solid var(--neutral-200);\n            font-size: 11px;\n          }\n          .roles-table td {\n            padding: 6px 8px;\n            border-bottom: 1px solid var(--neutral-100);\n            vertical-align: middle;\n            font-size: 12px;\n          }\n          .roles-table tr:hover {\n            background: var(--neutral-50);\n          }\n          .roles-table tr.selected {\n            background: var(--primary-blue-light);\n            border-left: 3px solid var(--primary-blue);\n          }\n          .roles-table tr {\n            cursor: pointer;\n          }\n          \n          /* Role details panel */\n          .role-details {\n            padding: 8px;\n          }\n          .role-details h3 {\n            margin: 0 0 12px 0;\n            font-size: 14px;\n            font-weight: 600;\n            color: var(--neutral-800);\n          }\n          .detail-group {\n            margin-bottom: 12px;\n          }\n          .detail-label {\n            font-size: 10px;\n            font-weight: 600;\n            color: var(--neutral-500);\n            margin-bottom: 3px;\n            text-transform: uppercase;\n            letter-spacing: 0.5px;\n          }\n          .detail-value {\n            font-size: 12px;\n            color: var(--neutral-800);\n            padding: 6px 0;\n            border-bottom: 1px solid var(--neutral-100);\n          }\n          \n          /* Form styles */\n          .form-field {\n            margin-bottom: 12px;\n          }\n          .form-label {\n            display: block;\n            font-size: 10px;\n            font-weight: 600;\n            color: var(--neutral-500);\n            margin-bottom: 3px;\n            text-transform: uppercase;\n            letter-spacing: 0.5px;\n          }\n          .form-label.required::after {\n            content: ' *';\n            color: var(--danger-red);\n          }\n          .form-input, .form-textarea {\n            width: 100%;\n            padding: 6px;\n            border: 1px solid var(--neutral-300);\n            border-radius: 3px;\n            font-size: 12px;\n          }\n          .form-input:focus, .form-textarea:focus {\n            outline: none;\n            border-color: var(--primary-blue);\n            box-shadow: 0 0 0 2px var(--primary-blue-light);\n          }\n          .form-textarea {\n            resize: vertical;\n            min-height: 60px;\n          }\n          \n          /* Button styles */\n          .btn-icon {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            width: 24px;\n            height: 24px;\n            border: none;\n            background: none;\n            cursor: pointer;\n            transition: all 0.15s;\n            margin: 0 1px;\n            padding: 2px;\n          }\n          .btn-icon:hover {\n            opacity: 0.7;\n          }\n          .btn-icon:disabled {\n            opacity: 0.3;\n            cursor: not-allowed;\n          }\n          .btn-success {\n            color: var(--success-green);\n          }\n          .btn-success:hover:not(:disabled) {\n            color: var(--success-green-dark);\n          }\n          .btn-danger {\n            color: var(--danger-red);\n          }\n          .btn-danger:hover:not(:disabled) {\n            color: var(--danger-red);\n          }\n          .btn-ghost {\n            color: var(--neutral-500);\n          }\n          .btn-ghost:hover:not(:disabled) {\n            color: var(--neutral-700);\n          }\n          \n          .empty-state {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 100%;\n            color: var(--neutral-500);\n            text-align: center;\n          }\n          .empty-state h3 {\n            margin: 12px 0 6px 0;\n            font-size: 14px;\n            color: var(--neutral-700);\n          }\n          .empty-state p {\n            margin: 0 0 12px 0;\n            font-size: 12px;\n          }\n\n          /* Permissions styles */\n          .permissions-section {\n            margin-top: 12px;\n          }\n          .permissions-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 8px;\n          }\n          .permission-actions {\n            display: flex;\n            gap: 8px;\n          }\n          .permission-action {\n            background: none;\n            border: none;\n            cursor: pointer;\n            font-size: 10px;\n            font-weight: 500;\n            padding: 4px 8px;\n            border-radius: 3px;\n            transition: all 0.15s;\n            color: var(--primary-blue);\n          }\n          .permission-action:hover {\n            background: var(--primary-blue-light);\n          }\n          .permission-action.clear {\n            color: var(--danger-red);\n          }\n          .permission-action.clear:hover {\n            background: var(--danger-light);\n          }\n          .permissions-container {\n            max-height: 300px;\n            overflow-y: auto;\n            border: 1px solid var(--neutral-200);\n            border-radius: 4px;\n            background: white;\n          }\n          .permission-group {\n            border-bottom: 1px solid var(--neutral-100);\n          }\n          .permission-group:last-child {\n            border-bottom: none;\n          }\n          .permission-group-header {\n            padding: 6px 8px;\n            background: var(--neutral-50);\n            border-bottom: 1px solid var(--neutral-200);\n            font-size: 10px;\n            font-weight: 600;\n            color: var(--neutral-700);\n            text-transform: uppercase;\n            letter-spacing: 0.5px;\n          }\n          .permission-items {\n            padding: 6px 8px;\n          }\n          .permission-item {\n            display: flex;\n            align-items: center;\n            margin-bottom: 4px;\n            cursor: pointer;\n          }\n          .permission-item:last-child {\n            margin-bottom: 0;\n          }\n          .permission-checkbox {\n            margin-right: 6px;\n            cursor: pointer;\n          }\n          .permission-label {\n            font-size: 11px;\n            color: var(--neutral-700);\n            cursor: pointer;\n          }\n          .checkbox-field {\n            display: flex;\n            align-items: center;\n            margin-bottom: 12px;\n          }\n          .checkbox-text {\n            font-size: 11px;\n            font-weight: 500;\n            color: var(--neutral-700);\n            margin-left: 6px;\n            text-transform: uppercase;\n            letter-spacing: 0.5px;\n          }\n\n          /* Status badge */\n          .status-badge {\n            font-size: 10px;\n            padding: 2px 6px;\n            border-radius: 10px;\n            font-weight: 500;\n          }\n          .status-badge.active {\n            background: var(--success-light);\n            color: var(--success);\n          }\n          .status-badge.inactive {\n            background: var(--danger-light);\n            color: var(--danger);\n          }\n\n          /* Permission count badge */\n          .permission-count {\n            font-size: 10px;\n            padding: 2px 6px;\n            border-radius: 10px;\n            background: var(--neutral-100);\n            color: var(--neutral-700);\n            font-weight: 500;\n          }\n\n          /* Readonly permissions display */\n          .readonly-permissions {\n            max-height: 300px;\n            overflow-y: auto;\n            border: 1px solid var(--neutral-200);\n            border-radius: 4px;\n            background: white;\n          }\n          .readonly-permission-group {\n            border-bottom: 1px solid var(--neutral-100);\n          }\n          .readonly-permission-group:last-child {\n            border-bottom: none;\n          }\n          .readonly-permission-items {\n            padding: 6px 8px;\n          }\n          .readonly-permission-item {\n            font-size: 11px;\n            color: var(--neutral-700);\n            margin-bottom: 3px;\n            padding-left: 12px;\n            position: relative;\n          }\n          .readonly-permission-item:last-child {\n            margin-bottom: 0;\n          }\n          .readonly-permission-item:before {\n            content: 'â€¢';\n            position: absolute;\n            left: 0;\n            color: var(--primary-blue);\n          }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Role Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: hasPermission(currentUser, PERMISSIONS.ROLES_CREATE) && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-icon btn-success\",\n          onClick: startAddingNew,\n          title: \"Add new role\",\n          disabled: addingNew || !!editingRole,\n          children: /*#__PURE__*/_jsxDEV(Plus, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 673,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 671,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 667,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-section roles-table-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: [\"Roles (\", roles.length, \") \\u2022 Sorted by permissions (most powerful first)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 689,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"compact-content\",\n          children: roles.length === 0 && !addingNew ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"No roles found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 695,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Get started by creating your first role.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 17\n            }, this), hasPermission(currentUser, PERMISSIONS.ROLES_CREATE) && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-icon btn-success\",\n              onClick: startAddingNew,\n              title: \"Create first role\",\n              children: /*#__PURE__*/_jsxDEV(Plus, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 703,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 694,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-container\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"roles-table\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Role Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 712,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Description\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 713,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Permissions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 714,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 715,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Created\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 716,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 717,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 711,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 710,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: roles.map(role => {\n                  var _role$permissions, _role$permissions2, _role$permissions3;\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    className: (selectedRole === null || selectedRole === void 0 ? void 0 : selectedRole.id) === role.id ? 'selected' : '',\n                    onClick: () => setSelectedRole(role),\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        fontWeight: '600'\n                      },\n                      children: role.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 727,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        color: '#64748b',\n                        fontSize: '11px'\n                      },\n                      children: role.description || 'No description'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 728,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"permission-count\",\n                        children: role.name === 'admin' || (_role$permissions = role.permissions) !== null && _role$permissions !== void 0 && _role$permissions.includes('*') ? `All Permissions (${Object.values(PERMISSION_GROUPS).flat().length})` : `${((_role$permissions2 = role.permissions) === null || _role$permissions2 === void 0 ? void 0 : _role$permissions2.length) || 0} permission${(((_role$permissions3 = role.permissions) === null || _role$permissions3 === void 0 ? void 0 : _role$permissions3.length) || 0) !== 1 ? 's' : ''}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 732,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 731,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `status-badge ${role.is_active ? 'active' : 'inactive'}`,\n                        children: role.is_active ? 'Active' : 'Inactive'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 740,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 739,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      style: {\n                        color: '#64748b',\n                        fontSize: '12px'\n                      },\n                      children: new Date(role.created_at).toLocaleDateString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 744,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          display: 'flex',\n                          gap: '4px'\n                        },\n                        children: [hasPermission(currentUser, PERMISSIONS.ROLES_UPDATE) && role.name !== 'admin' && /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn-icon btn-ghost\",\n                          onClick: e => {\n                            e.stopPropagation();\n                            handleEdit(role);\n                          },\n                          title: \"Edit role\",\n                          children: /*#__PURE__*/_jsxDEV(Edit3, {\n                            size: 16\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 758,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 750,\n                          columnNumber: 29\n                        }, this), hasPermission(currentUser, PERMISSIONS.ROLES_DELETE) && role.name !== 'admin' && /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn-icon btn-danger\",\n                          onClick: e => {\n                            e.stopPropagation();\n                            handleDelete(role.id);\n                          },\n                          title: \"Delete role\",\n                          children: /*#__PURE__*/_jsxDEV(Trash2, {\n                            size: 16\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 770,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 762,\n                          columnNumber: 29\n                        }, this), role.name === 'admin' && /*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            fontSize: '10px',\n                            color: 'var(--neutral-500)',\n                            fontStyle: 'italic',\n                            padding: '4px'\n                          },\n                          children: \"System Role\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 774,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 748,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 747,\n                      columnNumber: 23\n                    }, this)]\n                  }, role.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 722,\n                    columnNumber: 21\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 720,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 709,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 708,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 692,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 688,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-section\",\n        children: addingNew || editingRole ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: editingRole ? `Edit Role: ${editingRole.name}` : 'Create New Role'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 794,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '4px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-icon btn-success\",\n                onClick: editingRole ? handleSaveEdit : saveNewRole,\n                disabled: saving,\n                title: editingRole ? \"Update Role\" : \"Create Role\",\n                children: /*#__PURE__*/_jsxDEV(Check, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 802,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 796,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-icon btn-ghost\",\n                onClick: editingRole ? handleCancelEdit : cancelAddingNew,\n                disabled: saving,\n                title: \"Cancel\",\n                children: /*#__PURE__*/_jsxDEV(X, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 810,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 804,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 795,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 793,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"compact-content role-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label required\",\n                children: \"Role Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 816,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-input\",\n                value: editingRole ? editRole.name : newRole.name,\n                onChange: e => editingRole ? setEditRole(prev => ({\n                  ...prev,\n                  name: e.target.value\n                })) : setNewRole(prev => ({\n                  ...prev,\n                  name: e.target.value\n                })),\n                placeholder: \"Enter role name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 817,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 815,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 830,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"form-textarea\",\n                value: editingRole ? editRole.description : newRole.description,\n                onChange: e => editingRole ? setEditRole(prev => ({\n                  ...prev,\n                  description: e.target.value\n                })) : setNewRole(prev => ({\n                  ...prev,\n                  description: e.target.value\n                })),\n                placeholder: \"Enter role description\",\n                rows: 3\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 831,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 829,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"checkbox-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                className: \"permission-checkbox\",\n                checked: editingRole ? editRole.is_active : newRole.is_active,\n                onChange: e => editingRole ? setEditRole(prev => ({\n                  ...prev,\n                  is_active: e.target.checked\n                })) : setNewRole(prev => ({\n                  ...prev,\n                  is_active: e.target.checked\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 844,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"checkbox-text\",\n                children: \"Active\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 853,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 843,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"permissions-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"permissions-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Permissions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 858,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"permission-actions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => selectAllPermissions(!!editingRole),\n                    className: \"permission-action\",\n                    children: \"Select All\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 860,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => clearAllPermissions(!!editingRole),\n                    className: \"permission-action clear\",\n                    children: \"Clear All\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 867,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 859,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 857,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"permissions-container\",\n                children: Object.entries(PERMISSION_GROUPS).map(([groupName, permissions]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"permission-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"permission-group-header\",\n                    children: groupName.replace('_', ' ').toLowerCase().replace(/\\b\\w/g, l => l.toUpperCase())\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 880,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"permission-items\",\n                    children: permissions.map(permission => {\n                      const currentPermissions = editingRole ? editRole.permissions : newRole.permissions;\n                      return /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"permission-item\",\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"checkbox\",\n                          checked: currentPermissions.includes(permission),\n                          onChange: () => togglePermission(permission, !!editingRole),\n                          className: \"permission-checkbox\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 888,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"permission-label\",\n                          children: permission.replace(':', ' ').replace(/\\b\\w/g, l => l.toUpperCase())\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 894,\n                          columnNumber: 33\n                        }, this)]\n                      }, permission, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 887,\n                        columnNumber: 31\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 883,\n                    columnNumber: 25\n                  }, this)]\n                }, groupName, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 879,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 877,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 814,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : selectedRole ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            children: [\"Role Details: \", selectedRole.name, selectedRole.name === 'admin' && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: '10px',\n                color: 'var(--warning)',\n                fontWeight: '500',\n                marginLeft: '8px',\n                padding: '2px 6px',\n                background: 'var(--warning-light)',\n                borderRadius: '10px'\n              },\n              children: \"SYSTEM ROLE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 912,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 909,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"compact-content role-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-label\",\n                children: \"Role Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 919,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-value\",\n                style: {\n                  fontWeight: '600'\n                },\n                children: selectedRole.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 920,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 918,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-label\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 926,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-value\",\n                children: selectedRole.description || 'No description provided'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 927,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 925,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-label\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 933,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-value\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `status-badge ${selectedRole.is_active ? 'active' : 'inactive'}`,\n                  children: selectedRole.is_active ? 'Active' : 'Inactive'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 935,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 934,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 932,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"permissions-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"permissions-header\",\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: [\"Permissions (\", selectedRole.name === 'admin' || (_selectedRole$permiss = selectedRole.permissions) !== null && _selectedRole$permiss !== void 0 && _selectedRole$permiss.includes('*') ? `All ${Object.values(PERMISSION_GROUPS).flat().length} Permissions` : ((_selectedRole$permiss2 = selectedRole.permissions) === null || _selectedRole$permiss2 === void 0 ? void 0 : _selectedRole$permiss2.length) || 0, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 943,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 942,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"readonly-permissions\",\n                children: Object.entries(PERMISSION_GROUPS).map(([groupName, permissions]) => {\n                  const rolePermissions = selectedRole.permissions || [];\n                  // For admin role or wildcard, show all permissions in each group\n                  const isAdminOrWildcard = selectedRole.name === 'admin' || rolePermissions.includes('*');\n                  const groupPermissions = isAdminOrWildcard ? permissions : permissions.filter(p => rolePermissions.includes(p));\n                  if (groupPermissions.length === 0) return null;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"readonly-permission-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"permission-group-header\",\n                      children: [groupName.replace('_', ' ').toLowerCase().replace(/\\b\\w/g, l => l.toUpperCase()), \" (\", groupPermissions.length, \")\", isAdminOrWildcard && /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          fontSize: '9px',\n                          color: 'var(--success)',\n                          fontWeight: '500',\n                          marginLeft: '6px'\n                        },\n                        children: \"(All)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 964,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 961,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"readonly-permission-items\",\n                      children: groupPermissions.map(permission => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"readonly-permission-item\",\n                        children: permission.replace(':', ' ').replace(/\\b\\w/g, l => l.toUpperCase())\n                      }, permission, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 971,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 969,\n                      columnNumber: 27\n                    }, this)]\n                  }, groupName, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 960,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 950,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 941,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '16px',\n                fontSize: '10px',\n                color: 'var(--neutral-500)',\n                borderTop: '1px solid var(--neutral-200)',\n                paddingTop: '8px'\n              },\n              children: [\"Created: \", new Date(selectedRole.created_at).toLocaleDateString(), selectedRole.updated_at && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [\" \\u2022 Updated: \", new Date(selectedRole.updated_at).toLocaleDateString()]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 982,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 917,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(Shield, {\n            size: 32\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 992,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Select a Role\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 993,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Choose a role from the table to view its details and permissions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 994,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 991,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 790,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 686,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 294,\n    columnNumber: 5\n  }, this);\n};\n_s(RoleManagement, \"qdQaj4JLWYsDDFS553zx/fKNkw0=\", false, function () {\n  return [useAuth];\n});\n_c = RoleManagement;\nexport default RoleManagement;\nvar _c;\n$RefreshReg$(_c, \"RoleManagement\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","hasPermission","PERMISSIONS","PERMISSION_GROUPS","Plus","Edit3","Trash2","Shield","Check","X","jsxDEV","_jsxDEV","Fragment","_Fragment","RoleManagement","_s","_selectedRole$permiss","_selectedRole$permiss2","user","currentUser","roles","setRoles","loading","setLoading","saving","setSaving","error","setError","selectedRole","setSelectedRole","editingRole","setEditingRole","addingNew","setAddingNew","newRole","setNewRole","name","description","permissions","is_active","editRole","setEditRole","fetchRoles","token","localStorage","getItem","response","fetch","headers","ok","Error","data","json","sortedRoles","sort","a","b","_a$permissions","_a$permissions2","_b$permissions","_b$permissions2","aPermCount","includes","length","bPermCount","err","message","startAddingNew","cancelAddingNew","handleEdit","role","Array","isArray","handleCancelEdit","saveNewRole","ROLES_CREATE","alert","trim","method","body","JSON","stringify","console","handleSaveEdit","ROLES_UPDATE","id","handleDelete","roleId","ROLES_DELETE","window","confirm","togglePermission","permission","isEditing","prev","filter","p","selectAllPermissions","allPermissions","Object","values","flat","clearAllPermissions","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ROLES_READ","onClick","title","disabled","size","map","_role$permissions","_role$permissions2","_role$permissions3","style","fontWeight","color","fontSize","Date","created_at","toLocaleDateString","display","gap","e","stopPropagation","fontStyle","padding","type","value","onChange","target","placeholder","rows","checked","entries","groupName","replace","toLowerCase","l","toUpperCase","currentPermissions","marginLeft","background","borderRadius","rolePermissions","isAdminOrWildcard","groupPermissions","marginTop","borderTop","paddingTop","updated_at","_c","$RefreshReg$"],"sources":["/app/src/pages/RoleManagement.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { hasPermission, PERMISSIONS, PERMISSION_GROUPS, getRoleDisplayName } from '../utils/permissions';\nimport { Users, Plus, Edit3, Trash2, Shield, Check, X } from 'lucide-react';\n\ninterface Role {\n  id: number;\n  name: string;\n  description: string;\n  permissions: string[];\n  is_active: boolean;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface RoleFormData {\n  name: string;\n  description: string;\n  permissions: string[];\n  is_active: boolean;\n}\n\nconst RoleManagement: React.FC = () => {\n  const { user: currentUser } = useAuth();\n  const [roles, setRoles] = useState<Role[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  \n  const [selectedRole, setSelectedRole] = useState<Role | null>(null);\n  const [editingRole, setEditingRole] = useState<Role | null>(null);\n  const [addingNew, setAddingNew] = useState(false);\n  \n  const [newRole, setNewRole] = useState<RoleFormData>({\n    name: '',\n    description: '',\n    permissions: [],\n    is_active: true\n  });\n\n  const [editRole, setEditRole] = useState<RoleFormData>({\n    name: '',\n    description: '',\n    permissions: [],\n    is_active: true\n  });\n\n  useEffect(() => {\n    fetchRoles();\n  }, []);\n\n  const fetchRoles = async () => {\n    try {\n      const token = localStorage.getItem('access_token');\n      const response = await fetch('/api/v1/roles', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch roles');\n      }\n\n      const data = await response.json();\n      // Sort roles by permission count (most powerful first)\n      const sortedRoles = (data.data || []).sort((a: Role, b: Role) => {\n        // Wildcard permissions are considered as having infinite permissions\n        const aPermCount = a.permissions?.includes('*') ? 999999 : (a.permissions?.length || 0);\n        const bPermCount = b.permissions?.includes('*') ? 999999 : (b.permissions?.length || 0);\n        return bPermCount - aPermCount;\n      });\n      setRoles(sortedRoles);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to fetch roles');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const startAddingNew = () => {\n    setAddingNew(true);\n    setEditingRole(null);\n    setSelectedRole(null);\n    setNewRole({\n      name: '',\n      description: '',\n      permissions: [],\n      is_active: true\n    });\n  };\n\n  const cancelAddingNew = () => {\n    setAddingNew(false);\n    setNewRole({\n      name: '',\n      description: '',\n      permissions: [],\n      is_active: true\n    });\n  };\n\n  const handleEdit = (role: Role) => {\n    setEditingRole(role);\n    setSelectedRole(role);\n    setAddingNew(false);\n    const permissions = Array.isArray(role.permissions) ? role.permissions : [];\n    setEditRole({\n      name: role.name,\n      description: role.description,\n      permissions: permissions,\n      is_active: role.is_active\n    });\n  };\n\n  const handleCancelEdit = () => {\n    setEditingRole(null);\n    setEditRole({\n      name: '',\n      description: '',\n      permissions: [],\n      is_active: true\n    });\n  };\n\n  const saveNewRole = async () => {\n    if (!hasPermission(currentUser, PERMISSIONS.ROLES_CREATE)) {\n      alert('You don\\'t have permission to create roles');\n      return;\n    }\n\n    if (!newRole.name.trim()) {\n      alert('Role name is required');\n      return;\n    }\n\n    try {\n      setSaving(true);\n      const token = localStorage.getItem('access_token');\n      const response = await fetch('/api/v1/roles', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newRole)\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to create role');\n      }\n\n      await fetchRoles();\n      cancelAddingNew();\n    } catch (error) {\n      console.error('Failed to create role:', error);\n      alert('Failed to create role');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSaveEdit = async () => {\n    if (!editingRole || !hasPermission(currentUser, PERMISSIONS.ROLES_UPDATE)) {\n      alert('You don\\'t have permission to update roles');\n      return;\n    }\n\n    if (!editRole.name.trim()) {\n      alert('Role name is required');\n      return;\n    }\n\n    try {\n      setSaving(true);\n      const token = localStorage.getItem('access_token');\n      const response = await fetch(`/api/v1/roles/${editingRole.id}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(editRole)\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update role');\n      }\n\n      await fetchRoles();\n      handleCancelEdit();\n    } catch (error) {\n      console.error('Failed to update role:', error);\n      alert('Failed to update role');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDelete = async (roleId: number) => {\n    if (!hasPermission(currentUser, PERMISSIONS.ROLES_DELETE)) {\n      alert('You don\\'t have permission to delete roles');\n      return;\n    }\n\n    if (window.confirm('Delete this role? This action cannot be undone.')) {\n      try {\n        const token = localStorage.getItem('access_token');\n        const response = await fetch(`/api/v1/roles/${roleId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        });\n\n        if (!response.ok) {\n          throw new Error('Failed to delete role');\n        }\n\n        await fetchRoles();\n        if (selectedRole?.id === roleId) {\n          setSelectedRole(null);\n        }\n        if (editingRole?.id === roleId) {\n          setEditingRole(null);\n          handleCancelEdit();\n        }\n      } catch (error) {\n        console.error('Failed to delete role:', error);\n        alert('Failed to delete role');\n      }\n    }\n  };\n\n  const togglePermission = (permission: string, isEditing: boolean = false) => {\n    if (isEditing) {\n      setEditRole(prev => ({\n        ...prev,\n        permissions: prev.permissions.includes(permission)\n          ? prev.permissions.filter(p => p !== permission)\n          : [...prev.permissions, permission]\n      }));\n    } else {\n      setNewRole(prev => ({\n        ...prev,\n        permissions: prev.permissions.includes(permission)\n          ? prev.permissions.filter(p => p !== permission)\n          : [...prev.permissions, permission]\n      }));\n    }\n  };\n\n  const selectAllPermissions = (isEditing: boolean = false) => {\n    const allPermissions = Object.values(PERMISSION_GROUPS).flat();\n    if (isEditing) {\n      setEditRole(prev => ({ ...prev, permissions: allPermissions }));\n    } else {\n      setNewRole(prev => ({ ...prev, permissions: allPermissions }));\n    }\n  };\n\n  const clearAllPermissions = (isEditing: boolean = false) => {\n    if (isEditing) {\n      setEditRole(prev => ({ ...prev, permissions: [] }));\n    } else {\n      setNewRole(prev => ({ ...prev, permissions: [] }));\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-overlay\">\n        <div className=\"loading-spinner\"></div>\n      </div>\n    );\n  }\n\n  // Check if user has permission to access role management\n  if (!hasPermission(currentUser, PERMISSIONS.ROLES_READ)) {\n    return (\n      <div className=\"dense-dashboard\">\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-6 text-center\">\n          <Shield className=\"mx-auto h-12 w-12 text-red-400 mb-4\" />\n          <h2 className=\"text-xl font-semibold text-red-800 mb-2\">Access Denied</h2>\n          <p className=\"text-red-600\">You don't have permission to access role management.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"dense-dashboard\">\n      <style>\n        {`\n          /* Dashboard-style layout - EXACT MATCH */\n          .dense-dashboard {\n            padding: 8px 12px;\n            max-width: 100%;\n            font-size: 13px;\n          }\n          .dashboard-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 12px;\n            padding-bottom: 8px;\n            border-bottom: 1px solid var(--neutral-200);\n          }\n          .header-left h1 {\n            font-size: 18px;\n            font-weight: 600;\n            margin: 0;\n            color: var(--neutral-800);\n          }\n          .dashboard-grid {\n            display: grid;\n            grid-template-columns: 1fr 1fr 1fr;\n            gap: 12px;\n            align-items: stretch;\n            height: calc(100vh - 110px);\n          }\n          .dashboard-section {\n            background: white;\n            border: 1px solid var(--neutral-200);\n            border-radius: 6px;\n            overflow: hidden;\n            display: flex;\n            flex-direction: column;\n            height: 100%;\n          }\n          .section-header {\n            background: var(--neutral-50);\n            padding: 8px 12px;\n            font-weight: 600;\n            font-size: 13px;\n            color: var(--neutral-700);\n            border-bottom: 1px solid var(--neutral-200);\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n          }\n          .compact-content {\n            padding: 0;\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            overflow: auto;\n          }\n          .table-container {\n            flex: 1;\n            overflow: auto;\n          }\n          \n          /* Roles table styles */\n          .roles-table-section {\n            grid-column: 1 / 3;\n          }\n          .roles-table {\n            width: 100%;\n            border-collapse: collapse;\n            font-size: 12px;\n          }\n          .roles-table th {\n            background: var(--neutral-50);\n            padding: 6px 8px;\n            text-align: left;\n            font-weight: 600;\n            color: var(--neutral-700);\n            border-bottom: 1px solid var(--neutral-200);\n            font-size: 11px;\n          }\n          .roles-table td {\n            padding: 6px 8px;\n            border-bottom: 1px solid var(--neutral-100);\n            vertical-align: middle;\n            font-size: 12px;\n          }\n          .roles-table tr:hover {\n            background: var(--neutral-50);\n          }\n          .roles-table tr.selected {\n            background: var(--primary-blue-light);\n            border-left: 3px solid var(--primary-blue);\n          }\n          .roles-table tr {\n            cursor: pointer;\n          }\n          \n          /* Role details panel */\n          .role-details {\n            padding: 8px;\n          }\n          .role-details h3 {\n            margin: 0 0 12px 0;\n            font-size: 14px;\n            font-weight: 600;\n            color: var(--neutral-800);\n          }\n          .detail-group {\n            margin-bottom: 12px;\n          }\n          .detail-label {\n            font-size: 10px;\n            font-weight: 600;\n            color: var(--neutral-500);\n            margin-bottom: 3px;\n            text-transform: uppercase;\n            letter-spacing: 0.5px;\n          }\n          .detail-value {\n            font-size: 12px;\n            color: var(--neutral-800);\n            padding: 6px 0;\n            border-bottom: 1px solid var(--neutral-100);\n          }\n          \n          /* Form styles */\n          .form-field {\n            margin-bottom: 12px;\n          }\n          .form-label {\n            display: block;\n            font-size: 10px;\n            font-weight: 600;\n            color: var(--neutral-500);\n            margin-bottom: 3px;\n            text-transform: uppercase;\n            letter-spacing: 0.5px;\n          }\n          .form-label.required::after {\n            content: ' *';\n            color: var(--danger-red);\n          }\n          .form-input, .form-textarea {\n            width: 100%;\n            padding: 6px;\n            border: 1px solid var(--neutral-300);\n            border-radius: 3px;\n            font-size: 12px;\n          }\n          .form-input:focus, .form-textarea:focus {\n            outline: none;\n            border-color: var(--primary-blue);\n            box-shadow: 0 0 0 2px var(--primary-blue-light);\n          }\n          .form-textarea {\n            resize: vertical;\n            min-height: 60px;\n          }\n          \n          /* Button styles */\n          .btn-icon {\n            display: inline-flex;\n            align-items: center;\n            justify-content: center;\n            width: 24px;\n            height: 24px;\n            border: none;\n            background: none;\n            cursor: pointer;\n            transition: all 0.15s;\n            margin: 0 1px;\n            padding: 2px;\n          }\n          .btn-icon:hover {\n            opacity: 0.7;\n          }\n          .btn-icon:disabled {\n            opacity: 0.3;\n            cursor: not-allowed;\n          }\n          .btn-success {\n            color: var(--success-green);\n          }\n          .btn-success:hover:not(:disabled) {\n            color: var(--success-green-dark);\n          }\n          .btn-danger {\n            color: var(--danger-red);\n          }\n          .btn-danger:hover:not(:disabled) {\n            color: var(--danger-red);\n          }\n          .btn-ghost {\n            color: var(--neutral-500);\n          }\n          .btn-ghost:hover:not(:disabled) {\n            color: var(--neutral-700);\n          }\n          \n          .empty-state {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            height: 100%;\n            color: var(--neutral-500);\n            text-align: center;\n          }\n          .empty-state h3 {\n            margin: 12px 0 6px 0;\n            font-size: 14px;\n            color: var(--neutral-700);\n          }\n          .empty-state p {\n            margin: 0 0 12px 0;\n            font-size: 12px;\n          }\n\n          /* Permissions styles */\n          .permissions-section {\n            margin-top: 12px;\n          }\n          .permissions-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 8px;\n          }\n          .permission-actions {\n            display: flex;\n            gap: 8px;\n          }\n          .permission-action {\n            background: none;\n            border: none;\n            cursor: pointer;\n            font-size: 10px;\n            font-weight: 500;\n            padding: 4px 8px;\n            border-radius: 3px;\n            transition: all 0.15s;\n            color: var(--primary-blue);\n          }\n          .permission-action:hover {\n            background: var(--primary-blue-light);\n          }\n          .permission-action.clear {\n            color: var(--danger-red);\n          }\n          .permission-action.clear:hover {\n            background: var(--danger-light);\n          }\n          .permissions-container {\n            max-height: 300px;\n            overflow-y: auto;\n            border: 1px solid var(--neutral-200);\n            border-radius: 4px;\n            background: white;\n          }\n          .permission-group {\n            border-bottom: 1px solid var(--neutral-100);\n          }\n          .permission-group:last-child {\n            border-bottom: none;\n          }\n          .permission-group-header {\n            padding: 6px 8px;\n            background: var(--neutral-50);\n            border-bottom: 1px solid var(--neutral-200);\n            font-size: 10px;\n            font-weight: 600;\n            color: var(--neutral-700);\n            text-transform: uppercase;\n            letter-spacing: 0.5px;\n          }\n          .permission-items {\n            padding: 6px 8px;\n          }\n          .permission-item {\n            display: flex;\n            align-items: center;\n            margin-bottom: 4px;\n            cursor: pointer;\n          }\n          .permission-item:last-child {\n            margin-bottom: 0;\n          }\n          .permission-checkbox {\n            margin-right: 6px;\n            cursor: pointer;\n          }\n          .permission-label {\n            font-size: 11px;\n            color: var(--neutral-700);\n            cursor: pointer;\n          }\n          .checkbox-field {\n            display: flex;\n            align-items: center;\n            margin-bottom: 12px;\n          }\n          .checkbox-text {\n            font-size: 11px;\n            font-weight: 500;\n            color: var(--neutral-700);\n            margin-left: 6px;\n            text-transform: uppercase;\n            letter-spacing: 0.5px;\n          }\n\n          /* Status badge */\n          .status-badge {\n            font-size: 10px;\n            padding: 2px 6px;\n            border-radius: 10px;\n            font-weight: 500;\n          }\n          .status-badge.active {\n            background: var(--success-light);\n            color: var(--success);\n          }\n          .status-badge.inactive {\n            background: var(--danger-light);\n            color: var(--danger);\n          }\n\n          /* Permission count badge */\n          .permission-count {\n            font-size: 10px;\n            padding: 2px 6px;\n            border-radius: 10px;\n            background: var(--neutral-100);\n            color: var(--neutral-700);\n            font-weight: 500;\n          }\n\n          /* Readonly permissions display */\n          .readonly-permissions {\n            max-height: 300px;\n            overflow-y: auto;\n            border: 1px solid var(--neutral-200);\n            border-radius: 4px;\n            background: white;\n          }\n          .readonly-permission-group {\n            border-bottom: 1px solid var(--neutral-100);\n          }\n          .readonly-permission-group:last-child {\n            border-bottom: none;\n          }\n          .readonly-permission-items {\n            padding: 6px 8px;\n          }\n          .readonly-permission-item {\n            font-size: 11px;\n            color: var(--neutral-700);\n            margin-bottom: 3px;\n            padding-left: 12px;\n            position: relative;\n          }\n          .readonly-permission-item:last-child {\n            margin-bottom: 0;\n          }\n          .readonly-permission-item:before {\n            content: 'â€¢';\n            position: absolute;\n            left: 0;\n            color: var(--primary-blue);\n          }\n        `}\n      </style>\n      \n      {/* Dashboard-style header */}\n      <div className=\"dashboard-header\">\n        <div className=\"header-left\">\n          <h1>Role Management</h1>\n        </div>\n        <div className=\"header-actions\">\n          {hasPermission(currentUser, PERMISSIONS.ROLES_CREATE) && (\n            <button \n              className=\"btn-icon btn-success\"\n              onClick={startAddingNew}\n              title=\"Add new role\"\n              disabled={addingNew || !!editingRole}\n            >\n              <Plus size={16} />\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* 3-column dashboard grid */}\n      <div className=\"dashboard-grid\">\n        {/* Columns 1-2: Roles Table */}\n        <div className=\"dashboard-section roles-table-section\">\n          <div className=\"section-header\">\n            Roles ({roles.length}) â€¢ Sorted by permissions (most powerful first)\n          </div>\n          <div className=\"compact-content\">\n            {roles.length === 0 && !addingNew ? (\n              <div className=\"empty-state\">\n                <h3>No roles found</h3>\n                <p>Get started by creating your first role.</p>\n                {hasPermission(currentUser, PERMISSIONS.ROLES_CREATE) && (\n                  <button \n                    className=\"btn-icon btn-success\"\n                    onClick={startAddingNew}\n                    title=\"Create first role\"\n                  >\n                    <Plus size={16} />\n                  </button>\n                )}\n              </div>\n            ) : (\n              <div className=\"table-container\">\n                <table className=\"roles-table\">\n                <thead>\n                  <tr>\n                    <th>Role Name</th>\n                    <th>Description</th>\n                    <th>Permissions</th>\n                    <th>Status</th>\n                    <th>Created</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {roles.map((role) => (\n                    <tr \n                      key={role.id} \n                      className={selectedRole?.id === role.id ? 'selected' : ''}\n                      onClick={() => setSelectedRole(role)}\n                    >\n                      <td style={{ fontWeight: '600' }}>{role.name}</td>\n                      <td style={{ color: '#64748b', fontSize: '11px' }}>\n                        {role.description || 'No description'}\n                      </td>\n                      <td>\n                        <span className=\"permission-count\">\n                          {role.name === 'admin' || role.permissions?.includes('*') ? \n                            `All Permissions (${Object.values(PERMISSION_GROUPS).flat().length})` : \n                            `${role.permissions?.length || 0} permission${(role.permissions?.length || 0) !== 1 ? 's' : ''}`\n                          }\n                        </span>\n                      </td>\n                      <td>\n                        <span className={`status-badge ${role.is_active ? 'active' : 'inactive'}`}>\n                          {role.is_active ? 'Active' : 'Inactive'}\n                        </span>\n                      </td>\n                      <td style={{ color: '#64748b', fontSize: '12px' }}>\n                        {new Date(role.created_at).toLocaleDateString()}\n                      </td>\n                      <td>\n                        <div style={{ display: 'flex', gap: '4px' }}>\n                          {hasPermission(currentUser, PERMISSIONS.ROLES_UPDATE) && role.name !== 'admin' && (\n                            <button \n                              className=\"btn-icon btn-ghost\"\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                handleEdit(role);\n                              }}\n                              title=\"Edit role\"\n                            >\n                              <Edit3 size={16} />\n                            </button>\n                          )}\n                          {hasPermission(currentUser, PERMISSIONS.ROLES_DELETE) && role.name !== 'admin' && (\n                            <button \n                              className=\"btn-icon btn-danger\"\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                handleDelete(role.id);\n                              }}\n                              title=\"Delete role\"\n                            >\n                              <Trash2 size={16} />\n                            </button>\n                          )}\n                          {role.name === 'admin' && (\n                            <span style={{ fontSize: '10px', color: 'var(--neutral-500)', fontStyle: 'italic', padding: '4px' }}>\n                              System Role\n                            </span>\n                          )}\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n                </table>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Column 3: Role Details/Form Panel */}\n        <div className=\"dashboard-section\">\n          {addingNew || editingRole ? (\n            <>\n              <div className=\"section-header\">\n                <span>{editingRole ? `Edit Role: ${editingRole.name}` : 'Create New Role'}</span>\n                <div style={{ display: 'flex', gap: '4px' }}>\n                  <button \n                    className=\"btn-icon btn-success\"\n                    onClick={editingRole ? handleSaveEdit : saveNewRole}\n                    disabled={saving}\n                    title={editingRole ? \"Update Role\" : \"Create Role\"}\n                  >\n                    <Check size={16} />\n                  </button>\n                  <button \n                    className=\"btn-icon btn-ghost\"\n                    onClick={editingRole ? handleCancelEdit : cancelAddingNew}\n                    disabled={saving}\n                    title=\"Cancel\"\n                  >\n                    <X size={16} />\n                  </button>\n                </div>\n              </div>\n              <div className=\"compact-content role-details\">\n                <div className=\"form-field\">\n                  <label className=\"form-label required\">Role Name</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-input\"\n                    value={editingRole ? editRole.name : newRole.name}\n                    onChange={(e) => editingRole \n                      ? setEditRole(prev => ({ ...prev, name: e.target.value }))\n                      : setNewRole(prev => ({ ...prev, name: e.target.value }))\n                    }\n                    placeholder=\"Enter role name\"\n                  />\n                </div>\n\n                <div className=\"form-field\">\n                  <label className=\"form-label\">Description</label>\n                  <textarea\n                    className=\"form-textarea\"\n                    value={editingRole ? editRole.description : newRole.description}\n                    onChange={(e) => editingRole \n                      ? setEditRole(prev => ({ ...prev, description: e.target.value }))\n                      : setNewRole(prev => ({ ...prev, description: e.target.value }))\n                    }\n                    placeholder=\"Enter role description\"\n                    rows={3}\n                  />\n                </div>\n\n                <div className=\"checkbox-field\">\n                  <input\n                    type=\"checkbox\"\n                    className=\"permission-checkbox\"\n                    checked={editingRole ? editRole.is_active : newRole.is_active}\n                    onChange={(e) => editingRole \n                      ? setEditRole(prev => ({ ...prev, is_active: e.target.checked }))\n                      : setNewRole(prev => ({ ...prev, is_active: e.target.checked }))\n                    }\n                  />\n                  <span className=\"checkbox-text\">Active</span>\n                </div>\n\n                <div className=\"permissions-section\">\n                  <div className=\"permissions-header\">\n                    <label className=\"form-label\">Permissions</label>\n                    <div className=\"permission-actions\">\n                      <button\n                        type=\"button\"\n                        onClick={() => selectAllPermissions(!!editingRole)}\n                        className=\"permission-action\"\n                      >\n                        Select All\n                      </button>\n                      <button\n                        type=\"button\"\n                        onClick={() => clearAllPermissions(!!editingRole)}\n                        className=\"permission-action clear\"\n                      >\n                        Clear All\n                      </button>\n                    </div>\n                  </div>\n\n                  <div className=\"permissions-container\">\n                    {Object.entries(PERMISSION_GROUPS).map(([groupName, permissions]) => (\n                      <div key={groupName} className=\"permission-group\">\n                        <div className=\"permission-group-header\">\n                          {groupName.replace('_', ' ').toLowerCase().replace(/\\b\\w/g, l => l.toUpperCase())}\n                        </div>\n                        <div className=\"permission-items\">\n                          {permissions.map((permission) => {\n                            const currentPermissions = editingRole ? editRole.permissions : newRole.permissions;\n                            return (\n                              <label key={permission} className=\"permission-item\">\n                                <input\n                                  type=\"checkbox\"\n                                  checked={currentPermissions.includes(permission)}\n                                  onChange={() => togglePermission(permission, !!editingRole)}\n                                  className=\"permission-checkbox\"\n                                />\n                                <span className=\"permission-label\">\n                                  {permission.replace(':', ' ').replace(/\\b\\w/g, (l: string) => l.toUpperCase())}\n                                </span>\n                              </label>\n                            );\n                          })}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            </>\n          ) : selectedRole ? (\n            <>\n              <div className=\"section-header\">\n                Role Details: {selectedRole.name}\n                {selectedRole.name === 'admin' && (\n                  <span style={{ fontSize: '10px', color: 'var(--warning)', fontWeight: '500', marginLeft: '8px', padding: '2px 6px', background: 'var(--warning-light)', borderRadius: '10px' }}>\n                    SYSTEM ROLE\n                  </span>\n                )}\n              </div>\n              <div className=\"compact-content role-details\">\n                <div className=\"detail-group\">\n                  <div className=\"detail-label\">Role Name</div>\n                  <div className=\"detail-value\" style={{ fontWeight: '600' }}>\n                    {selectedRole.name}\n                  </div>\n                </div>\n\n                <div className=\"detail-group\">\n                  <div className=\"detail-label\">Description</div>\n                  <div className=\"detail-value\">\n                    {selectedRole.description || 'No description provided'}\n                  </div>\n                </div>\n\n                <div className=\"detail-group\">\n                  <div className=\"detail-label\">Status</div>\n                  <div className=\"detail-value\">\n                    <span className={`status-badge ${selectedRole.is_active ? 'active' : 'inactive'}`}>\n                      {selectedRole.is_active ? 'Active' : 'Inactive'}\n                    </span>\n                  </div>\n                </div>\n\n                <div className=\"permissions-section\">\n                  <div className=\"permissions-header\">\n                    <label className=\"form-label\">\n                      Permissions ({selectedRole.name === 'admin' || selectedRole.permissions?.includes('*') ? \n                        `All ${Object.values(PERMISSION_GROUPS).flat().length} Permissions` : \n                        selectedRole.permissions?.length || 0})\n                    </label>\n                  </div>\n\n                  <div className=\"readonly-permissions\">\n                    {Object.entries(PERMISSION_GROUPS).map(([groupName, permissions]) => {\n                      const rolePermissions = selectedRole.permissions || [];\n                      // For admin role or wildcard, show all permissions in each group\n                      const isAdminOrWildcard = selectedRole.name === 'admin' || rolePermissions.includes('*');\n                      const groupPermissions = isAdminOrWildcard ? permissions : permissions.filter((p: string) => rolePermissions.includes(p));\n                      \n                      if (groupPermissions.length === 0) return null;\n                      \n                      return (\n                        <div key={groupName} className=\"readonly-permission-group\">\n                          <div className=\"permission-group-header\">\n                            {groupName.replace('_', ' ').toLowerCase().replace(/\\b\\w/g, (l: string) => l.toUpperCase())} ({groupPermissions.length})\n                            {isAdminOrWildcard && (\n                              <span style={{ fontSize: '9px', color: 'var(--success)', fontWeight: '500', marginLeft: '6px' }}>\n                                (All)\n                              </span>\n                            )}\n                          </div>\n                          <div className=\"readonly-permission-items\">\n                            {groupPermissions.map((permission: string) => (\n                              <div key={permission} className=\"readonly-permission-item\">\n                                {permission.replace(':', ' ').replace(/\\b\\w/g, (l: string) => l.toUpperCase())}\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </div>\n\n                <div style={{ marginTop: '16px', fontSize: '10px', color: 'var(--neutral-500)', borderTop: '1px solid var(--neutral-200)', paddingTop: '8px' }}>\n                  Created: {new Date(selectedRole.created_at).toLocaleDateString()}\n                  {selectedRole.updated_at && (\n                    <> â€¢ Updated: {new Date(selectedRole.updated_at).toLocaleDateString()}</>\n                  )}\n                </div>\n              </div>\n            </>\n          ) : (\n            <div className=\"empty-state\">\n              <Shield size={32} />\n              <h3>Select a Role</h3>\n              <p>Choose a role from the table to view its details and permissions</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RoleManagement;"],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC,eAGRjG,OAAA;MAAK4F,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAC/B7F,OAAA;QAAK4F,SAAS,EAAC,aAAa;QAAAC,QAAA,eAC1B7F,OAAA;UAAA6F,QAAA,EAAI;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrB,CAAC,eACNjG,OAAA;QAAK4F,SAAS,EAAC,gBAAgB;QAAAC,QAAA,EAC5BvG,aAAa,CAACkB,WAAW,EAAEjB,WAAW,CAACyE,YAAY,CAAC,iBACnDhE,OAAA;UACE4F,SAAS,EAAC,sBAAsB;UAChCO,OAAO,EAAE3C,cAAe;UACxB4C,KAAK,EAAC,cAAc;UACpBC,QAAQ,EAAEhF,SAAS,IAAI,CAAC,CAACF,WAAY;UAAA0E,QAAA,eAErC7F,OAAA,CAACP,IAAI;YAAC6G,IAAI,EAAE;UAAG;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ;MACT;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNjG,OAAA;MAAK4F,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAE7B7F,OAAA;QAAK4F,SAAS,EAAC,uCAAuC;QAAAC,QAAA,gBACpD7F,OAAA;UAAK4F,SAAS,EAAC,gBAAgB;UAAAC,QAAA,GAAC,SACvB,EAACpF,KAAK,CAAC2C,MAAM,EAAC,sDACvB;QAAA;UAAA0C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACNjG,OAAA;UAAK4F,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAC7BpF,KAAK,CAAC2C,MAAM,KAAK,CAAC,IAAI,CAAC/B,SAAS,gBAC/BrB,OAAA;YAAK4F,SAAS,EAAC,aAAa;YAAAC,QAAA,gBAC1B7F,OAAA;cAAA6F,QAAA,EAAI;YAAc;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACvBjG,OAAA;cAAA6F,QAAA,EAAG;YAAwC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,EAC9C3G,aAAa,CAACkB,WAAW,EAAEjB,WAAW,CAACyE,YAAY,CAAC,iBACnDhE,OAAA;cACE4F,SAAS,EAAC,sBAAsB;cAChCO,OAAO,EAAE3C,cAAe;cACxB4C,KAAK,EAAC,mBAAmB;cAAAP,QAAA,eAEzB7F,OAAA,CAACP,IAAI;gBAAC6G,IAAI,EAAE;cAAG;gBAAAR,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACZ,CACT;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,gBAENjG,OAAA;YAAK4F,SAAS,EAAC,iBAAiB;YAAAC,QAAA,eAC9B7F,OAAA;cAAO4F,SAAS,EAAC,aAAa;cAAAC,QAAA,gBAC9B7F,OAAA;gBAAA6F,QAAA,eACE7F,OAAA;kBAAA6F,QAAA,gBACE7F,OAAA;oBAAA6F,QAAA,EAAI;kBAAS;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAClBjG,OAAA;oBAAA6F,QAAA,EAAI;kBAAW;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACpBjG,OAAA;oBAAA6F,QAAA,EAAI;kBAAW;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACpBjG,OAAA;oBAAA6F,QAAA,EAAI;kBAAM;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACfjG,OAAA;oBAAA6F,QAAA,EAAI;kBAAO;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eAChBjG,OAAA;oBAAA6F,QAAA,EAAI;kBAAO;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACd;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACA,CAAC,eACRjG,OAAA;gBAAA6F,QAAA,EACGpF,KAAK,CAAC8F,GAAG,CAAE5C,IAAI;kBAAA,IAAA6C,iBAAA,EAAAC,kBAAA,EAAAC,kBAAA;kBAAA,oBACd1G,OAAA;oBAEE4F,SAAS,EAAE,CAAA3E,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEyD,EAAE,MAAKf,IAAI,CAACe,EAAE,GAAG,UAAU,GAAG,EAAG;oBAC1DyB,OAAO,EAAEA,CAAA,KAAMjF,eAAe,CAACyC,IAAI,CAAE;oBAAAkC,QAAA,gBAErC7F,OAAA;sBAAI2G,KAAK,EAAE;wBAAEC,UAAU,EAAE;sBAAM,CAAE;sBAAAf,QAAA,EAAElC,IAAI,CAAClC;oBAAI;sBAAAqE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eAClDjG,OAAA;sBAAI2G,KAAK,EAAE;wBAAEE,KAAK,EAAE,SAAS;wBAAEC,QAAQ,EAAE;sBAAO,CAAE;sBAAAjB,QAAA,EAC/ClC,IAAI,CAACjC,WAAW,IAAI;oBAAgB;sBAAAoE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACnC,CAAC,eACLjG,OAAA;sBAAA6F,QAAA,eACE7F,OAAA;wBAAM4F,SAAS,EAAC,kBAAkB;wBAAAC,QAAA,EAC/BlC,IAAI,CAAClC,IAAI,KAAK,OAAO,KAAA+E,iBAAA,GAAI7C,IAAI,CAAChC,WAAW,cAAA6E,iBAAA,eAAhBA,iBAAA,CAAkBrD,QAAQ,CAAC,GAAG,CAAC,GACvD,oBAAoBqC,MAAM,CAACC,MAAM,CAACjG,iBAAiB,CAAC,CAACkG,IAAI,CAAC,CAAC,CAACtC,MAAM,GAAG,GACrE,GAAG,EAAAqD,kBAAA,GAAA9C,IAAI,CAAChC,WAAW,cAAA8E,kBAAA,uBAAhBA,kBAAA,CAAkBrD,MAAM,KAAI,CAAC,cAAc,CAAC,EAAAsD,kBAAA,GAAA/C,IAAI,CAAChC,WAAW,cAAA+E,kBAAA,uBAAhBA,kBAAA,CAAkBtD,MAAM,KAAI,CAAC,MAAM,CAAC,GAAG,GAAG,GAAG,EAAE;sBAAE;wBAAA0C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAE9F;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACL,CAAC,eACLjG,OAAA;sBAAA6F,QAAA,eACE7F,OAAA;wBAAM4F,SAAS,EAAE,gBAAgBjC,IAAI,CAAC/B,SAAS,GAAG,QAAQ,GAAG,UAAU,EAAG;wBAAAiE,QAAA,EACvElC,IAAI,CAAC/B,SAAS,GAAG,QAAQ,GAAG;sBAAU;wBAAAkE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACnC;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACL,CAAC,eACLjG,OAAA;sBAAI2G,KAAK,EAAE;wBAAEE,KAAK,EAAE,SAAS;wBAAEC,QAAQ,EAAE;sBAAO,CAAE;sBAAAjB,QAAA,EAC/C,IAAIkB,IAAI,CAACpD,IAAI,CAACqD,UAAU,CAAC,CAACC,kBAAkB,CAAC;oBAAC;sBAAAnB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC7C,CAAC,eACLjG,OAAA;sBAAA6F,QAAA,eACE7F,OAAA;wBAAK2G,KAAK,EAAE;0BAAEO,OAAO,EAAE,MAAM;0BAAEC,GAAG,EAAE;wBAAM,CAAE;wBAAAtB,QAAA,GACzCvG,aAAa,CAACkB,WAAW,EAAEjB,WAAW,CAACkF,YAAY,CAAC,IAAId,IAAI,CAAClC,IAAI,KAAK,OAAO,iBAC5EzB,OAAA;0BACE4F,SAAS,EAAC,oBAAoB;0BAC9BO,OAAO,EAAGiB,CAAC,IAAK;4BACdA,CAAC,CAACC,eAAe,CAAC,CAAC;4BACnB3D,UAAU,CAACC,IAAI,CAAC;0BAClB,CAAE;0BACFyC,KAAK,EAAC,WAAW;0BAAAP,QAAA,eAEjB7F,OAAA,CAACN,KAAK;4BAAC4G,IAAI,EAAE;0BAAG;4BAAAR,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAE;wBAAC;0BAAAH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACb,CACT,EACA3G,aAAa,CAACkB,WAAW,EAAEjB,WAAW,CAACsF,YAAY,CAAC,IAAIlB,IAAI,CAAClC,IAAI,KAAK,OAAO,iBAC5EzB,OAAA;0BACE4F,SAAS,EAAC,qBAAqB;0BAC/BO,OAAO,EAAGiB,CAAC,IAAK;4BACdA,CAAC,CAACC,eAAe,CAAC,CAAC;4BACnB1C,YAAY,CAAChB,IAAI,CAACe,EAAE,CAAC;0BACvB,CAAE;0BACF0B,KAAK,EAAC,aAAa;0BAAAP,QAAA,eAEnB7F,OAAA,CAACL,MAAM;4BAAC2G,IAAI,EAAE;0BAAG;4BAAAR,QAAA,EAAAC,YAAA;4BAAAC,UAAA;4BAAAC,YAAA;0BAAA,OAAE;wBAAC;0BAAAH,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OACd,CACT,EACAtC,IAAI,CAAClC,IAAI,KAAK,OAAO,iBACpBzB,OAAA;0BAAM2G,KAAK,EAAE;4BAAEG,QAAQ,EAAE,MAAM;4BAAED,KAAK,EAAE,oBAAoB;4BAAES,SAAS,EAAE,QAAQ;4BAAEC,OAAO,EAAE;0BAAM,CAAE;0BAAA1B,QAAA,EAAC;wBAErG;0BAAAC,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAAM,CACP;sBAAA;wBAAAH,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACJ,CAAC;kBAAA,GAxDAtC,IAAI,CAACe,EAAE;oBAAAoB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAyDV,CAAC;gBAAA,CACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL;QACN;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNjG,OAAA;QAAK4F,SAAS,EAAC,mBAAmB;QAAAC,QAAA,EAC/BxE,SAAS,IAAIF,WAAW,gBACvBnB,OAAA,CAAAE,SAAA;UAAA2F,QAAA,gBACE7F,OAAA;YAAK4F,SAAS,EAAC,gBAAgB;YAAAC,QAAA,gBAC7B7F,OAAA;cAAA6F,QAAA,EAAO1E,WAAW,GAAG,cAAcA,WAAW,CAACM,IAAI,EAAE,GAAG;YAAiB;cAAAqE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACjFjG,OAAA;cAAK2G,KAAK,EAAE;gBAAEO,OAAO,EAAE,MAAM;gBAAEC,GAAG,EAAE;cAAM,CAAE;cAAAtB,QAAA,gBAC1C7F,OAAA;gBACE4F,SAAS,EAAC,sBAAsB;gBAChCO,OAAO,EAAEhF,WAAW,GAAGqD,cAAc,GAAGT,WAAY;gBACpDsC,QAAQ,EAAExF,MAAO;gBACjBuF,KAAK,EAAEjF,WAAW,GAAG,aAAa,GAAG,aAAc;gBAAA0E,QAAA,eAEnD7F,OAAA,CAACH,KAAK;kBAACyG,IAAI,EAAE;gBAAG;kBAAAR,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACb,CAAC,eACTjG,OAAA;gBACE4F,SAAS,EAAC,oBAAoB;gBAC9BO,OAAO,EAAEhF,WAAW,GAAG2C,gBAAgB,GAAGL,eAAgB;gBAC1D4C,QAAQ,EAAExF,MAAO;gBACjBuF,KAAK,EAAC,QAAQ;gBAAAP,QAAA,eAEd7F,OAAA,CAACF,CAAC;kBAACwG,IAAI,EAAE;gBAAG;kBAAAR,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNjG,OAAA;YAAK4F,SAAS,EAAC,8BAA8B;YAAAC,QAAA,gBAC3C7F,OAAA;cAAK4F,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzB7F,OAAA;gBAAO4F,SAAS,EAAC,qBAAqB;gBAAAC,QAAA,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACxDjG,OAAA;gBACEwH,IAAI,EAAC,MAAM;gBACX5B,SAAS,EAAC,YAAY;gBACtB6B,KAAK,EAAEtG,WAAW,GAAGU,QAAQ,CAACJ,IAAI,GAAGF,OAAO,CAACE,IAAK;gBAClDiG,QAAQ,EAAGN,CAAC,IAAKjG,WAAW,GACxBW,WAAW,CAACqD,IAAI,KAAK;kBAAE,GAAGA,IAAI;kBAAE1D,IAAI,EAAE2F,CAAC,CAACO,MAAM,CAACF;gBAAM,CAAC,CAAC,CAAC,GACxDjG,UAAU,CAAC2D,IAAI,KAAK;kBAAE,GAAGA,IAAI;kBAAE1D,IAAI,EAAE2F,CAAC,CAACO,MAAM,CAACF;gBAAM,CAAC,CAAC,CACzD;gBACDG,WAAW,EAAC;cAAiB;gBAAA9B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eAENjG,OAAA;cAAK4F,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzB7F,OAAA;gBAAO4F,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAC;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACjDjG,OAAA;gBACE4F,SAAS,EAAC,eAAe;gBACzB6B,KAAK,EAAEtG,WAAW,GAAGU,QAAQ,CAACH,WAAW,GAAGH,OAAO,CAACG,WAAY;gBAChEgG,QAAQ,EAAGN,CAAC,IAAKjG,WAAW,GACxBW,WAAW,CAACqD,IAAI,KAAK;kBAAE,GAAGA,IAAI;kBAAEzD,WAAW,EAAE0F,CAAC,CAACO,MAAM,CAACF;gBAAM,CAAC,CAAC,CAAC,GAC/DjG,UAAU,CAAC2D,IAAI,KAAK;kBAAE,GAAGA,IAAI;kBAAEzD,WAAW,EAAE0F,CAAC,CAACO,MAAM,CAACF;gBAAM,CAAC,CAAC,CAChE;gBACDG,WAAW,EAAC,wBAAwB;gBACpCC,IAAI,EAAE;cAAE;gBAAA/B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eAENjG,OAAA;cAAK4F,SAAS,EAAC,gBAAgB;cAAAC,QAAA,gBAC7B7F,OAAA;gBACEwH,IAAI,EAAC,UAAU;gBACf5B,SAAS,EAAC,qBAAqB;gBAC/BkC,OAAO,EAAE3G,WAAW,GAAGU,QAAQ,CAACD,SAAS,GAAGL,OAAO,CAACK,SAAU;gBAC9D8F,QAAQ,EAAGN,CAAC,IAAKjG,WAAW,GACxBW,WAAW,CAACqD,IAAI,KAAK;kBAAE,GAAGA,IAAI;kBAAEvD,SAAS,EAAEwF,CAAC,CAACO,MAAM,CAACG;gBAAQ,CAAC,CAAC,CAAC,GAC/DtG,UAAU,CAAC2D,IAAI,KAAK;kBAAE,GAAGA,IAAI;kBAAEvD,SAAS,EAAEwF,CAAC,CAACO,MAAM,CAACG;gBAAQ,CAAC,CAAC;cAChE;gBAAAhC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF,CAAC,eACFjG,OAAA;gBAAM4F,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAC;cAAM;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1C,CAAC,eAENjG,OAAA;cAAK4F,SAAS,EAAC,qBAAqB;cAAAC,QAAA,gBAClC7F,OAAA;gBAAK4F,SAAS,EAAC,oBAAoB;gBAAAC,QAAA,gBACjC7F,OAAA;kBAAO4F,SAAS,EAAC,YAAY;kBAAAC,QAAA,EAAC;gBAAW;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACjDjG,OAAA;kBAAK4F,SAAS,EAAC,oBAAoB;kBAAAC,QAAA,gBACjC7F,OAAA;oBACEwH,IAAI,EAAC,QAAQ;oBACbrB,OAAO,EAAEA,CAAA,KAAMb,oBAAoB,CAAC,CAAC,CAACnE,WAAW,CAAE;oBACnDyE,SAAS,EAAC,mBAAmB;oBAAAC,QAAA,EAC9B;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eACTjG,OAAA;oBACEwH,IAAI,EAAC,QAAQ;oBACbrB,OAAO,EAAEA,CAAA,KAAMR,mBAAmB,CAAC,CAAC,CAACxE,WAAW,CAAE;oBAClDyE,SAAS,EAAC,yBAAyB;oBAAAC,QAAA,EACpC;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAENjG,OAAA;gBAAK4F,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EACnCL,MAAM,CAACuC,OAAO,CAACvI,iBAAiB,CAAC,CAAC+G,GAAG,CAAC,CAAC,CAACyB,SAAS,EAAErG,WAAW,CAAC,kBAC9D3B,OAAA;kBAAqB4F,SAAS,EAAC,kBAAkB;kBAAAC,QAAA,gBAC/C7F,OAAA;oBAAK4F,SAAS,EAAC,yBAAyB;oBAAAC,QAAA,EACrCmC,SAAS,CAACC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAACC,WAAW,CAAC,CAAC,CAACD,OAAO,CAAC,OAAO,EAAEE,CAAC,IAAIA,CAAC,CAACC,WAAW,CAAC,CAAC;kBAAC;oBAAAtC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC9E,CAAC,eACNjG,OAAA;oBAAK4F,SAAS,EAAC,kBAAkB;oBAAAC,QAAA,EAC9BlE,WAAW,CAAC4E,GAAG,CAAEtB,UAAU,IAAK;sBAC/B,MAAMoD,kBAAkB,GAAGlH,WAAW,GAAGU,QAAQ,CAACF,WAAW,GAAGJ,OAAO,CAACI,WAAW;sBACnF,oBACE3B,OAAA;wBAAwB4F,SAAS,EAAC,iBAAiB;wBAAAC,QAAA,gBACjD7F,OAAA;0BACEwH,IAAI,EAAC,UAAU;0BACfM,OAAO,EAAEO,kBAAkB,CAAClF,QAAQ,CAAC8B,UAAU,CAAE;0BACjDyC,QAAQ,EAAEA,CAAA,KAAM1C,gBAAgB,CAACC,UAAU,EAAE,CAAC,CAAC9D,WAAW,CAAE;0BAC5DyE,SAAS,EAAC;wBAAqB;0BAAAE,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAChC,CAAC,eACFjG,OAAA;0BAAM4F,SAAS,EAAC,kBAAkB;0BAAAC,QAAA,EAC/BZ,UAAU,CAACgD,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,OAAO,EAAGE,CAAS,IAAKA,CAAC,CAACC,WAAW,CAAC,CAAC;wBAAC;0BAAAtC,QAAA,EAAAC,YAAA;0BAAAC,UAAA;0BAAAC,YAAA;wBAAA,OAC1E,CAAC;sBAAA,GATGhB,UAAU;wBAAAa,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAUf,CAAC;oBAEZ,CAAC;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC,CAAC;gBAAA,GArBE+B,SAAS;kBAAAlC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAsBd,CACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA,eACN,CAAC,GACDhF,YAAY,gBACdjB,OAAA,CAAAE,SAAA;UAAA2F,QAAA,gBACE7F,OAAA;YAAK4F,SAAS,EAAC,gBAAgB;YAAAC,QAAA,GAAC,gBAChB,EAAC5E,YAAY,CAACQ,IAAI,EAC/BR,YAAY,CAACQ,IAAI,KAAK,OAAO,iBAC5BzB,OAAA;cAAM2G,KAAK,EAAE;gBAAEG,QAAQ,EAAE,MAAM;gBAAED,KAAK,EAAE,gBAAgB;gBAAED,UAAU,EAAE,KAAK;gBAAE0B,UAAU,EAAE,KAAK;gBAAEf,OAAO,EAAE,SAAS;gBAAEgB,UAAU,EAAE,sBAAsB;gBAAEC,YAAY,EAAE;cAAO,CAAE;cAAA3C,QAAA,EAAC;YAEhL;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CACP;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eACNjG,OAAA;YAAK4F,SAAS,EAAC,8BAA8B;YAAAC,QAAA,gBAC3C7F,OAAA;cAAK4F,SAAS,EAAC,cAAc;cAAAC,QAAA,gBAC3B7F,OAAA;gBAAK4F,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC7CjG,OAAA;gBAAK4F,SAAS,EAAC,cAAc;gBAACe,KAAK,EAAE;kBAAEC,UAAU,EAAE;gBAAM,CAAE;gBAAAf,QAAA,EACxD5E,YAAY,CAACQ;cAAI;gBAAAqE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACf,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAENjG,OAAA;cAAK4F,SAAS,EAAC,cAAc;cAAAC,QAAA,gBAC3B7F,OAAA;gBAAK4F,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAAC;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC/CjG,OAAA;gBAAK4F,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAC1B5E,YAAY,CAACS,WAAW,IAAI;cAAyB;gBAAAoE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnD,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAENjG,OAAA;cAAK4F,SAAS,EAAC,cAAc;cAAAC,QAAA,gBAC3B7F,OAAA;gBAAK4F,SAAS,EAAC,cAAc;gBAAAC,QAAA,EAAC;cAAM;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC1CjG,OAAA;gBAAK4F,SAAS,EAAC,cAAc;gBAAAC,QAAA,eAC3B7F,OAAA;kBAAM4F,SAAS,EAAE,gBAAgB3E,YAAY,CAACW,SAAS,GAAG,QAAQ,GAAG,UAAU,EAAG;kBAAAiE,QAAA,EAC/E5E,YAAY,CAACW,SAAS,GAAG,QAAQ,GAAG;gBAAU;kBAAAkE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC3C;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAENjG,OAAA;cAAK4F,SAAS,EAAC,qBAAqB;cAAAC,QAAA,gBAClC7F,OAAA;gBAAK4F,SAAS,EAAC,oBAAoB;gBAAAC,QAAA,eACjC7F,OAAA;kBAAO4F,SAAS,EAAC,YAAY;kBAAAC,QAAA,GAAC,eACf,EAAC5E,YAAY,CAACQ,IAAI,KAAK,OAAO,KAAApB,qBAAA,GAAIY,YAAY,CAACU,WAAW,cAAAtB,qBAAA,eAAxBA,qBAAA,CAA0B8C,QAAQ,CAAC,GAAG,CAAC,GACpF,OAAOqC,MAAM,CAACC,MAAM,CAACjG,iBAAiB,CAAC,CAACkG,IAAI,CAAC,CAAC,CAACtC,MAAM,cAAc,GACnE,EAAA9C,sBAAA,GAAAW,YAAY,CAACU,WAAW,cAAArB,sBAAA,uBAAxBA,sBAAA,CAA0B8C,MAAM,KAAI,CAAC,EAAC,GAC1C;gBAAA;kBAAA0C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC,eAENjG,OAAA;gBAAK4F,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,EAClCL,MAAM,CAACuC,OAAO,CAACvI,iBAAiB,CAAC,CAAC+G,GAAG,CAAC,CAAC,CAACyB,SAAS,EAAErG,WAAW,CAAC,KAAK;kBACnE,MAAM8G,eAAe,GAAGxH,YAAY,CAACU,WAAW,IAAI,EAAE;kBACtD;kBACA,MAAM+G,iBAAiB,GAAGzH,YAAY,CAACQ,IAAI,KAAK,OAAO,IAAIgH,eAAe,CAACtF,QAAQ,CAAC,GAAG,CAAC;kBACxF,MAAMwF,gBAAgB,GAAGD,iBAAiB,GAAG/G,WAAW,GAAGA,WAAW,CAACyD,MAAM,CAAEC,CAAS,IAAKoD,eAAe,CAACtF,QAAQ,CAACkC,CAAC,CAAC,CAAC;kBAEzH,IAAIsD,gBAAgB,CAACvF,MAAM,KAAK,CAAC,EAAE,OAAO,IAAI;kBAE9C,oBACEpD,OAAA;oBAAqB4F,SAAS,EAAC,2BAA2B;oBAAAC,QAAA,gBACxD7F,OAAA;sBAAK4F,SAAS,EAAC,yBAAyB;sBAAAC,QAAA,GACrCmC,SAAS,CAACC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAACC,WAAW,CAAC,CAAC,CAACD,OAAO,CAAC,OAAO,EAAGE,CAAS,IAAKA,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,EAAC,IAAE,EAACO,gBAAgB,CAACvF,MAAM,EAAC,GACvH,EAACsF,iBAAiB,iBAChB1I,OAAA;wBAAM2G,KAAK,EAAE;0BAAEG,QAAQ,EAAE,KAAK;0BAAED,KAAK,EAAE,gBAAgB;0BAAED,UAAU,EAAE,KAAK;0BAAE0B,UAAU,EAAE;wBAAM,CAAE;wBAAAzC,QAAA,EAAC;sBAEjG;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CACP;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACE,CAAC,eACNjG,OAAA;sBAAK4F,SAAS,EAAC,2BAA2B;sBAAAC,QAAA,EACvC8C,gBAAgB,CAACpC,GAAG,CAAEtB,UAAkB,iBACvCjF,OAAA;wBAAsB4F,SAAS,EAAC,0BAA0B;wBAAAC,QAAA,EACvDZ,UAAU,CAACgD,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,OAAO,EAAGE,CAAS,IAAKA,CAAC,CAACC,WAAW,CAAC,CAAC;sBAAC,GADtEnD,UAAU;wBAAAa,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAEf,CACN;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACC,CAAC;kBAAA,GAfE+B,SAAS;oBAAAlC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAgBd,CAAC;gBAEV,CAAC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAENjG,OAAA;cAAK2G,KAAK,EAAE;gBAAEiC,SAAS,EAAE,MAAM;gBAAE9B,QAAQ,EAAE,MAAM;gBAAED,KAAK,EAAE,oBAAoB;gBAAEgC,SAAS,EAAE,8BAA8B;gBAAEC,UAAU,EAAE;cAAM,CAAE;cAAAjD,QAAA,GAAC,WACrI,EAAC,IAAIkB,IAAI,CAAC9F,YAAY,CAAC+F,UAAU,CAAC,CAACC,kBAAkB,CAAC,CAAC,EAC/DhG,YAAY,CAAC8H,UAAU,iBACtB/I,OAAA,CAAAE,SAAA;gBAAA2F,QAAA,GAAE,mBAAY,EAAC,IAAIkB,IAAI,CAAC9F,YAAY,CAAC8H,UAAU,CAAC,CAAC9B,kBAAkB,CAAC,CAAC;cAAA,eAAG,CACzE;YAAA;cAAAnB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA,eACN,CAAC,gBAEHjG,OAAA;UAAK4F,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC1B7F,OAAA,CAACJ,MAAM;YAAC0G,IAAI,EAAE;UAAG;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACpBjG,OAAA;YAAA6F,QAAA,EAAI;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACtBjG,OAAA;YAAA6F,QAAA,EAAG;UAAgE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpE;MACN;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC7F,EAAA,CAl9BID,cAAwB;EAAA,QACEd,OAAO;AAAA;AAAA2J,EAAA,GADjC7I,cAAwB;AAo9B9B,eAAeA,cAAc;AAAC,IAAA6I,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}