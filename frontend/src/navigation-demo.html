<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navigation Demo - Settings Submenu</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }

        .demo-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Node-RED Style Navigation */
        .nodered-nav {
            background-color: #8f0000;
            color: white;
            position: relative;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .nav-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 16px;
            height: 40px;
        }

        .nav-brand {
            color: white;
            font-size: 16px;
            font-weight: 600;
            text-decoration: none;
            letter-spacing: -0.5px;
        }

        .nav-menu-container {
            position: relative;
        }

        .nav-hamburger {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            padding: 6px 8px;
            border-radius: 3px;
            transition: background-color 0.2s ease;
        }

        .nav-hamburger:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .nav-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            min-width: 200px;
            margin-top: 4px;
            overflow: hidden;
            display: none;
        }

        .nav-dropdown.show {
            display: block;
        }

        .nav-menu-item {
            display: flex;
            align-items: center;
            padding: 10px 16px;
            color: #333;
            text-decoration: none;
            font-size: 14px;
            border: none;
            background: none;
            cursor: pointer;
            width: 100%;
            text-align: left;
            transition: background-color 0.2s ease;
        }

        .nav-menu-item:hover {
            background-color: #f5f5f5;
        }

        .nav-icon {
            margin-right: 12px;
            font-size: 16px;
            width: 20px;
            text-align: center;
        }

        .nav-divider {
            height: 1px;
            background-color: #e0e0e0;
            margin: 4px 0;
        }

        /* Settings submenu styles - NEW: Expands to the left */
        .nav-menu-item-group {
            position: relative;
        }

        .nav-chevron {
            margin-left: auto;
            transition: transform 0.2s ease;
        }

        .nav-chevron.open {
            transform: rotate(90deg);
        }

        .nav-submenu {
            position: absolute;
            top: 0;
            right: 100%;
            background: white;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            min-width: 200px;
            margin-right: 4px;
            overflow: hidden;
            z-index: 1001;
            display: none;
        }

        .nav-submenu.show {
            display: block;
        }

        .nav-submenu-item {
            display: flex;
            align-items: center;
            padding: 10px 16px;
            color: #333;
            text-decoration: none;
            font-size: 14px;
            border: none;
            background: none;
            cursor: pointer;
            width: 100%;
            text-align: left;
            transition: background-color 0.2s ease;
            position: relative;
        }

        .nav-submenu-item:hover {
            background-color: #f5f5f5;
        }

        .nav-submenu-item.active {
            background-color: #e3f2fd;
            color: #1976d2;
            font-weight: 600;
            border-left: 3px solid #1976d2;
        }

        .nav-submenu-item .nav-icon {
            margin-right: 12px;
            font-size: 16px;
            width: 20px;
            text-align: center;
        }

        .admin-badge {
            background: #dc3545;
            color: white;
            padding: 1px 4px;
            border-radius: 8px;
            font-size: 9px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-left: auto;
        }

        .demo-note {
            background: #e3f2fd;
            border: 1px solid #1976d2;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 20px;
            color: #1976d2;
        }

        .demo-note h3 {
            margin: 0 0 10px 0;
            color: #1976d2;
        }

        .changes-list {
            list-style: none;
            padding: 0;
        }

        .changes-list li {
            padding: 5px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .changes-list li:last-child {
            border-bottom: none;
        }

        .change-type {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 11px;
            font-weight: 500;
            margin-right: 8px;
        }

        .change-type.removed {
            background: #fee2e2;
            color: #dc2626;
        }

        .change-type.modified {
            background: #fef3c7;
            color: #d97706;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-note">
            <h3>‚úÖ Navigation Changes Complete</h3>
            <p>The settings submenu now expands to the left of the main dropdown menu, and the "Overview" option has been removed. Click the hamburger menu and hover over "Settings" to see the new behavior.</p>
        </div>

        <div class="changes-list">
            <h4>Changes Made:</h4>
            <ul>
                <li><span class="change-type removed">REMOVED</span> Settings ‚Üí Overview menu item</li>
                <li><span class="change-type modified">MODIFIED</span> Submenu positioning: now expands horizontally to the left</li>
                <li><span class="change-type modified">MODIFIED</span> Main /settings route now redirects to /settings/step-library</li>
                <li><span class="change-type modified">MODIFIED</span> Submenu styling to match main dropdown appearance</li>
            </ul>
        </div>

        <!-- Demo Navigation -->
        <nav class="nodered-nav">
            <div class="nav-header">
                <a href="#" class="nav-brand">OpsConductor</a>
                <div class="nav-menu-container">
                    <button class="nav-hamburger" onclick="toggleMenu()">‚ò∞</button>
                    <div class="nav-dropdown" id="mainMenu">
                        <a href="#" class="nav-menu-item">
                            <span class="nav-icon">üìä</span>
                            Dashboard
                        </a>
                        <a href="#" class="nav-menu-item">
                            <span class="nav-icon">üë•</span>
                            Users
                        </a>
                        <a href="#" class="nav-menu-item">
                            <span class="nav-icon">üõ°Ô∏è</span>
                            Credentials
                        </a>
                        <a href="#" class="nav-menu-item">
                            <span class="nav-icon">üéØ</span>
                            Targets
                        </a>
                        <div class="nav-divider"></div>
                        <div class="nav-menu-item-group">
                            <div class="nav-menu-item" onclick="toggleSettings(event)">
                                <span class="nav-icon">‚öôÔ∏è</span>
                                Settings
                                <span class="nav-chevron" id="settingsChevron">‚ñ∂</span>
                            </div>
                            <div class="nav-submenu" id="settingsSubmenu">
                                <a href="#" class="nav-submenu-item">
                                    <span class="nav-icon">üìö</span>
                                    Step Library
                                    <span class="admin-badge">Admin</span>
                                </a>
                                <a href="#" class="nav-submenu-item">
                                    <span class="nav-icon">üìß</span>
                                    SMTP Config
                                    <span class="admin-badge">Admin</span>
                                </a>
                                <a href="#" class="nav-submenu-item active">
                                    <span class="nav-icon">üîî</span>
                                    Notifications
                                </a>
                                <a href="#" class="nav-submenu-item">
                                    <span class="nav-icon">üìã</span>
                                    Notification History
                                    <span class="admin-badge">Admin</span>
                                </a>
                            </div>
                        </div>
                        <a href="#" class="nav-menu-item" style="color: #d32f2f;">
                            <span class="nav-icon">üö™</span>
                            Logout
                        </a>
                    </div>
                </div>
            </div>
        </nav>

        <div style="padding: 20px; background: #f8f9fa; border-radius: 4px;">
            <h4>Instructions:</h4>
            <ol>
                <li>Click the hamburger menu (‚ò∞) to open the main navigation</li>
                <li>Click on "Settings" to see the submenu expand to the left</li>
                <li>Notice there's no "Overview" option - just the actual settings pages</li>
                <li>The submenu appears as a separate panel to the left of the main menu</li>
            </ol>
        </div>
    </div>

    <script>
        let menuOpen = false;
        let settingsOpen = false;

        function toggleMenu() {
            const menu = document.getElementById('mainMenu');
            const submenu = document.getElementById('settingsSubmenu');
            menuOpen = !menuOpen;
            
            if (menuOpen) {
                menu.classList.add('show');
            } else {
                menu.classList.remove('show');
                submenu.classList.remove('show');
                settingsOpen = false;
                updateChevron();
            }
        }

        function toggleSettings(event) {
            event.preventDefault();
            event.stopPropagation();
            const submenu = document.getElementById('settingsSubmenu');
            settingsOpen = !settingsOpen;
            
            if (settingsOpen) {
                submenu.classList.add('show');
            } else {
                submenu.classList.remove('show');
            }
            updateChevron();
        }

        function updateChevron() {
            const chevron = document.getElementById('settingsChevron');
            if (settingsOpen) {
                chevron.style.transform = 'rotate(90deg)';
            } else {
                chevron.style.transform = 'rotate(0deg)';
            }
        }

        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
            const container = document.querySelector('.nav-menu-container');
            if (!container.contains(event.target)) {
                document.getElementById('mainMenu').classList.remove('show');
                document.getElementById('settingsSubmenu').classList.remove('show');
                menuOpen = false;
                settingsOpen = false;
                updateChevron();
            }
        });
    </script>
</body>
</html>