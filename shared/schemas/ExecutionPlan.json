{
  "$defs": {
    "Step": {
      "description": "A single step in an execution plan.",
      "properties": {
        "step_id": {
          "description": "Unique identifier for this step",
          "title": "Step Id",
          "type": "string"
        },
        "tool_name": {
          "description": "Tool to execute in this step",
          "title": "Tool Name",
          "type": "string"
        },
        "parameters": {
          "additionalProperties": true,
          "description": "Parameters for tool execution",
          "title": "Parameters",
          "type": "object"
        },
        "depends_on": {
          "description": "Step IDs this step depends on",
          "items": {
            "type": "string"
          },
          "title": "Depends On",
          "type": "array"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Human-readable description of the step",
          "title": "Description"
        }
      },
      "required": [
        "step_id",
        "tool_name"
      ],
      "title": "Step",
      "type": "object"
    }
  },
  "description": "A complete execution plan.",
  "properties": {
    "plan_id": {
      "description": "Unique identifier for this plan",
      "title": "Plan Id",
      "type": "string"
    },
    "trace_id": {
      "description": "Trace ID for this request",
      "title": "Trace Id",
      "type": "string"
    },
    "steps": {
      "description": "Ordered list of steps to execute",
      "items": {
        "$ref": "#/$defs/Step"
      },
      "title": "Steps",
      "type": "array"
    },
    "metadata": {
      "additionalProperties": true,
      "description": "Additional plan metadata",
      "title": "Metadata",
      "type": "object"
    }
  },
  "required": [
    "plan_id",
    "trace_id",
    "steps"
  ],
  "title": "ExecutionPlan",
  "type": "object"
}