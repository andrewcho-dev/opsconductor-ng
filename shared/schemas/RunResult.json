{
  "$defs": {
    "StepResult": {
      "description": "Result of executing a single step.",
      "properties": {
        "step_id": {
          "description": "ID of the executed step",
          "title": "Step Id",
          "type": "string"
        },
        "success": {
          "description": "Whether the step succeeded",
          "title": "Success",
          "type": "boolean"
        },
        "output": {
          "default": null,
          "description": "Output from the step execution",
          "title": "Output"
        },
        "error": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Error message if step failed",
          "title": "Error"
        },
        "duration_ms": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Execution duration in milliseconds",
          "title": "Duration Ms"
        }
      },
      "required": [
        "step_id",
        "success"
      ],
      "title": "StepResult",
      "type": "object"
    }
  },
  "description": "Result of executing a complete plan.",
  "properties": {
    "run_id": {
      "description": "Unique identifier for this run",
      "title": "Run Id",
      "type": "string"
    },
    "plan_id": {
      "description": "ID of the executed plan",
      "title": "Plan Id",
      "type": "string"
    },
    "trace_id": {
      "description": "Trace ID for this request",
      "title": "Trace Id",
      "type": "string"
    },
    "success": {
      "description": "Whether the entire run succeeded",
      "title": "Success",
      "type": "boolean"
    },
    "step_results": {
      "description": "Results from each step",
      "items": {
        "$ref": "#/$defs/StepResult"
      },
      "title": "Step Results",
      "type": "array"
    },
    "total_duration_ms": {
      "anyOf": [
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Total execution duration in milliseconds",
      "title": "Total Duration Ms"
    },
    "metadata": {
      "additionalProperties": true,
      "description": "Additional run metadata",
      "title": "Metadata",
      "type": "object"
    }
  },
  "required": [
    "run_id",
    "plan_id",
    "trace_id",
    "success",
    "step_results"
  ],
  "title": "RunResult",
  "type": "object"
}