{"ast":null,"code":"import axios from 'axios';\nconsole.log('ðŸ”¥ API SERVICE LOADED AT', new Date().toISOString());\n\n// Base API configuration\n// Explicitly construct the API URL to ensure HTTPS and correct port\n// Service port mapping for development (kept for reference)\n// const SERVICE_PORTS = {\n//   auth: 3001,\n//   users: 3002,\n//   credentials: 3004,\n//   targets: 3005,\n//   jobs: 3006,\n//   executor: 3007,\n//   notifications: 3009,\n//   stepLibraries: 3011\n// };\n\nexport const getApiBaseUrl = () => {\n  if (process.env.REACT_APP_API_URL) {\n    return process.env.REACT_APP_API_URL;\n  }\n\n  // If running on development port 3000, use nginx proxy\n  if (window.location.port === '3000') {\n    return 'http://localhost';\n  }\n\n  // Use current window location but ensure correct protocol\n  const protocol = window.location.protocol;\n  const hostname = window.location.hostname;\n\n  // Only include port if it's not the standard port for the protocol\n  if (window.location.port && !(protocol === 'https:' && window.location.port === '443' || protocol === 'http:' && window.location.port === '80')) {\n    return `${protocol}//${hostname}:${window.location.port}`;\n  }\n  return `${protocol}//${hostname}`;\n};\nexport const getServiceUrl = service => {\n  // Always use the nginx proxy instead of direct service ports\n  return getApiBaseUrl();\n};\n\n// Create axios instance with dynamic baseURL\nconst api = axios.create({\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Request interceptor to set dynamic baseURL\napi.interceptors.request.use(config => {\n  // Set dynamic baseURL for each request\n  config.baseURL = getApiBaseUrl();\n\n  // Add access token if available (simple session-based auth)\n  const accessToken = localStorage.getItem('access_token');\n  if (accessToken) {\n    config.headers.Authorization = `Bearer ${accessToken}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// Response interceptor to handle auth errors\napi.interceptors.response.use(response => response, async error => {\n  var _error$response, _error$response2;\n  // Handle auth errors by redirecting to login\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401 || ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 403) {\n    console.log('Authentication required, redirecting to login');\n    clearTokens();\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\n\n// Simple session management functions\nexport const setSessionToken = token => {\n  localStorage.setItem('access_token', token);\n};\nexport const clearTokens = () => {\n  localStorage.removeItem('access_token');\n  localStorage.removeItem('user');\n};\nexport const isAuthenticated = () => {\n  return !!localStorage.getItem('access_token');\n};\n\n// Auth API\nexport const authApi = {\n  login: async credentials => {\n    const response = await axios.post(`${getApiBaseUrl()}/api/v1/auth/login`, credentials);\n    return response.data;\n  },\n  logout: async () => {\n    await api.post('/api/v1/auth/logout');\n    clearTokens();\n  },\n  verify: async () => {\n    const response = await api.get('/api/v1/auth/verify');\n    return response.data;\n  }\n};\n\n// User API\nexport const userApi = {\n  list: async (skip = 0, limit = 100) => {\n    const response = await api.get('/api/v1/users', {\n      params: {\n        skip,\n        limit\n      }\n    });\n    return response.data;\n  },\n  get: async id => {\n    const response = await api.get(`/api/v1/users/${id}`);\n    return response.data;\n  },\n  create: async userData => {\n    const response = await api.post('/api/v1/users', userData);\n    return response.data;\n  },\n  update: async (id, userData) => {\n    const response = await api.put(`/api/v1/users/${id}`, userData);\n    return response.data;\n  },\n  delete: async id => {\n    await api.delete(`/api/v1/users/${id}`);\n  },\n  assignRole: async (id, role) => {\n    await api.post(`/api/v1/users/${id}/roles`, {\n      role\n    });\n  }\n};\n\n// Roles API\nexport const rolesApi = {\n  list: async () => {\n    return api.get('/api/v1/available-roles');\n  },\n  listFull: async () => {\n    return api.get('/api/v1/roles');\n  }\n};\n\n// Target API\nexport const targetApi = {\n  list: async (skip = 0, limit = 100) => {\n    const response = await api.get('/api/v1/targets', {\n      params: {\n        skip,\n        limit\n      }\n    });\n    return response.data;\n  },\n  get: async id => {\n    const response = await api.get(`/api/v1/targets/${id}`);\n    return response.data;\n  },\n  create: async targetData => {\n    const response = await api.post('/api/v1/targets', targetData);\n    return response.data;\n  },\n  update: async (id, targetData) => {\n    const response = await api.put(`/api/v1/targets/${id}`, targetData);\n    return response.data;\n  },\n  delete: async id => {\n    await api.delete(`/api/v1/targets/${id}`);\n  },\n  testWinRM: async id => {\n    const response = await api.post(`/api/v1/targets/${id}/test-winrm`);\n    return response.data;\n  },\n  testSSH: async id => {\n    const response = await api.post(`/api/v1/targets/${id}/test-ssh`);\n    return response.data;\n  }\n};\n\n// Target Group API\nexport const targetGroupApi = {\n  list: async (includeCount = false) => {\n    const response = await api.get('/api/v1/target-groups', {\n      params: {\n        include_counts: includeCount\n      }\n    });\n    return response.data;\n  },\n  getTree: async () => {\n    const response = await api.get('/api/v1/target-groups-tree');\n    return response.data;\n  },\n  get: async id => {\n    const response = await api.get(`/api/v1/target-groups/${id}`);\n    return response.data;\n  },\n  create: async groupData => {\n    const response = await api.post('/api/v1/target-groups', groupData);\n    return response.data;\n  },\n  update: async (id, groupData) => {\n    const response = await api.put(`/api/v1/target-groups/${id}`, groupData);\n    return response.data;\n  },\n  delete: async id => {\n    await api.delete(`/api/v1/target-groups/${id}`);\n  },\n  getTargets: async id => {\n    const response = await api.get(`/api/v1/target-groups/${id}/targets`);\n    return response.data;\n  },\n  addTargets: async (id, targetIds) => {\n    const response = await api.post(`/api/v1/target-groups/${id}/targets`, {\n      target_ids: targetIds\n    });\n    return response.data;\n  },\n  removeTarget: async (groupId, targetId) => {\n    await api.delete(`/api/v1/target-groups/${groupId}/targets/${targetId}`);\n  }\n};\n\n// Asset Service Target API (for getting all targets)\nexport const assetTargetApi = {\n  list: async () => {\n    const response = await api.get('/api/v1/targets');\n    return response.data;\n  }\n};\n\n// Job API\nexport const jobApi = {\n  list: async (skip = 0, limit = 100) => {\n    const response = await api.get('/api/v1/jobs', {\n      params: {\n        skip,\n        limit\n      }\n    });\n    return response.data;\n  },\n  get: async id => {\n    const response = await api.get(`/api/v1/jobs/${id}`);\n    return response.data.data;\n  },\n  create: async jobData => {\n    const response = await api.post('/api/v1/jobs', jobData);\n    return response.data.data;\n  },\n  update: async (id, jobData) => {\n    const response = await api.put(`/api/v1/jobs/${id}`, jobData);\n    return response.data.data;\n  },\n  delete: async id => {\n    await api.delete(`/api/v1/jobs/${id}`);\n  },\n  run: async (id, parameters = {}) => {\n    const response = await api.post(`/api/v1/jobs/${id}/run`, {\n      parameters\n    });\n    return response.data;\n  },\n  export: async () => {\n    const response = await api.post('/api/v1/jobs/export', {});\n    return response.data;\n  },\n  import: async importData => {\n    const response = await api.post('/api/v1/jobs/import', importData);\n    return response.data;\n  }\n};\n\n// Job Run API\nexport const jobRunApi = {\n  list: async (skip = 0, limit = 100, jobId) => {\n    const response = await api.get('/api/v1/runs', {\n      params: {\n        skip,\n        limit,\n        job_id: jobId\n      }\n    });\n    return response.data;\n  },\n  get: async id => {\n    const response = await api.get(`/api/v1/runs/${id}`);\n    return response.data;\n  },\n  getSteps: async id => {\n    const response = await api.get(`/api/v1/runs/${id}/steps`);\n    return response.data;\n  }\n};\n\n// Health Monitoring API\nexport const healthApi = {\n  checkAllServices: async () => {\n    const startTime = Date.now();\n    try {\n      const response = await api.get('/health', {\n        timeout: 10000 // 10 second timeout for comprehensive health check\n      });\n      const responseTime = Date.now() - startTime;\n\n      // Transform the centralized health response into the expected format\n      const healthData = response.data;\n      const results = {};\n\n      // Add overall API Gateway status\n      results['api-gateway'] = {\n        status: healthData.status,\n        service: 'api-gateway',\n        responseTime,\n        message: healthData.message\n      };\n\n      // Add individual service checks from the centralized response\n      if (healthData.checks) {\n        healthData.checks.forEach(check => {\n          // Map service names from the health check response\n          let serviceName = check.service || check.name || 'unknown';\n\n          // Normalize service names to match frontend expectations\n          if (serviceName.includes('identity')) {\n            results['auth'] = {\n              ...check,\n              service: 'auth',\n              responseTime\n            };\n            results['users'] = {\n              ...check,\n              service: 'users',\n              responseTime\n            };\n          } else if (serviceName.includes('asset')) {\n            results['credentials'] = {\n              ...check,\n              service: 'credentials',\n              responseTime\n            };\n            results['targets'] = {\n              ...check,\n              service: 'targets',\n              responseTime\n            };\n            results['discovery'] = {\n              ...check,\n              service: 'discovery',\n              responseTime\n            };\n          } else if (serviceName.includes('automation')) {\n            results['jobs'] = {\n              ...check,\n              service: 'jobs',\n              responseTime\n            };\n            results['executor'] = {\n              ...check,\n              service: 'executor',\n              responseTime\n            };\n            results['step-libraries'] = {\n              ...check,\n              service: 'step-libraries',\n              responseTime\n            };\n          } else if (serviceName.includes('communication')) {\n            results['notification'] = {\n              ...check,\n              service: 'notification',\n              responseTime\n            };\n          } else {\n            // For database, redis, etc.\n            results[serviceName.toLowerCase()] = {\n              ...check,\n              service: serviceName.toLowerCase(),\n              responseTime\n            };\n          }\n        });\n      }\n\n      // Add default status for services not explicitly reported\n      const expectedServices = ['auth', 'users', 'credentials', 'targets', 'jobs', 'executor', 'notification', 'step-libraries', 'redis', 'postgres'];\n      expectedServices.forEach(service => {\n        if (!results[service]) {\n          results[service] = {\n            status: 'unknown',\n            service,\n            responseTime,\n            message: 'Service status not reported'\n          };\n        }\n      });\n      return results;\n    } catch (error) {\n      const responseTime = Date.now() - startTime;\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n\n      // Return error status for all services if health check fails\n      const services = ['api-gateway', 'auth', 'users', 'credentials', 'targets', 'jobs', 'executor', 'notification', 'discovery', 'step-libraries', 'redis', 'postgres'];\n      const results = {};\n      services.forEach(service => {\n        results[service] = {\n          status: 'unhealthy',\n          service,\n          responseTime,\n          error: errorMessage\n        };\n      });\n      return results;\n    }\n  },\n  checkService: async service => {\n    // For individual service checks, use the centralized health endpoint\n    // and extract the specific service status\n    try {\n      const allServices = await healthApi.checkAllServices();\n      return allServices[service] || {\n        status: 'unknown',\n        service,\n        error: 'Service not found in health report'\n      };\n    } catch (error) {\n      return {\n        status: 'unhealthy',\n        service,\n        error: error instanceof Error ? error.message : 'Unknown error'\n      };\n    }\n  },\n  getSystemStats: async () => {\n    try {\n      // Get system stats from the centralized health endpoint\n      const healthResponse = await api.get('/health');\n      const healthData = healthResponse.data;\n\n      // Extract system statistics from health data\n      const stats = {\n        overall_status: healthData.status,\n        services_count: healthData.checks ? healthData.checks.length : 0,\n        healthy_services: healthData.checks ? healthData.checks.filter(c => c.status === 'healthy').length : 0,\n        unhealthy_services: healthData.checks ? healthData.checks.filter(c => c.status === 'unhealthy').length : 0,\n        timestamp: new Date().toISOString(),\n        message: healthData.message || 'System health check completed'\n      };\n      return stats;\n    } catch (error) {\n      return {\n        error: 'Failed to fetch system stats',\n        overall_status: 'unhealthy',\n        services_count: 0,\n        healthy_services: 0,\n        unhealthy_services: 0,\n        timestamp: new Date().toISOString()\n      };\n    }\n  }\n};\n\n// Notification Preferences API\nexport const notificationApi = {\n  // User notification preferences\n  getUserPreferences: async userId => {\n    const response = await api.get(`/api/v1/users/${userId}/notification-preferences`);\n    return response.data;\n  },\n  updateUserPreferences: async (userId, preferences) => {\n    const response = await api.put(`/api/v1/users/${userId}/notification-preferences`, preferences);\n    return response.data;\n  },\n  // Notification channels\n  getChannels: async () => {\n    const response = await api.get('/api/v1/channels');\n    return response.data;\n  },\n  // SMTP settings (admin only)\n  getSMTPSettings: async () => {\n    const response = await api.get('/api/v1/notifications/smtp');\n    return response.data;\n  },\n  updateSMTPSettings: async settings => {\n    const response = await api.post('/api/v1/notifications/smtp', settings);\n    return response.data;\n  },\n  testSMTPSettings: async testRequest => {\n    const response = await api.post('/api/v1/notifications/smtp/test', testRequest);\n    return response.data;\n  }\n};\n\n// Celery Monitoring API\nexport const celeryApi = {\n  getStatus: async () => {\n    const response = await api.get('/api/v1/executor/celery/status');\n    return response.data;\n  },\n  getMetrics: async () => {\n    const response = await api.get('/api/v1/executor/celery/metrics');\n    return response.data;\n  },\n  getQueues: async () => {\n    const response = await api.get('/api/v1/executor/celery/queues');\n    return response.data;\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","console","log","Date","toISOString","getApiBaseUrl","process","env","REACT_APP_API_URL","window","location","port","protocol","hostname","getServiceUrl","service","api","create","headers","interceptors","request","use","config","baseURL","accessToken","localStorage","getItem","Authorization","error","Promise","reject","response","_error$response","_error$response2","status","clearTokens","href","setSessionToken","token","setItem","removeItem","isAuthenticated","authApi","login","credentials","post","data","logout","verify","get","userApi","list","skip","limit","params","id","userData","update","put","delete","assignRole","role","rolesApi","listFull","targetApi","targetData","testWinRM","testSSH","targetGroupApi","includeCount","include_counts","getTree","groupData","getTargets","addTargets","targetIds","target_ids","removeTarget","groupId","targetId","assetTargetApi","jobApi","jobData","run","parameters","export","import","importData","jobRunApi","jobId","job_id","getSteps","healthApi","checkAllServices","startTime","now","timeout","responseTime","healthData","results","message","checks","forEach","check","serviceName","name","includes","toLowerCase","expectedServices","errorMessage","Error","services","checkService","allServices","getSystemStats","healthResponse","stats","overall_status","services_count","length","healthy_services","filter","c","unhealthy_services","timestamp","notificationApi","getUserPreferences","userId","updateUserPreferences","preferences","getChannels","getSMTPSettings","updateSMTPSettings","settings","testSMTPSettings","testRequest","celeryApi","getStatus","getMetrics","getQueues"],"sources":["/app/src/services/api.ts"],"sourcesContent":["import axios, { AxiosResponse } from 'axios';\nimport {\n  User, UserCreate, UserUpdate, UserListResponse,\n  Credential, CredentialCreate, CredentialListResponse, CredentialDecrypted,\n  Target, TargetCreate, TargetListResponse, WinRMTestResult, SSHTestResult,\n  Job, JobCreate, JobListResponse,\n  JobRun, JobRunListResponse, JobRunStep,\n\n  LoginRequest, AuthResponse,\n  NotificationPreferences, NotificationPreferencesResponse, NotificationChannel,\n  SMTPSettings, SMTPSettingsResponse, SMTPTestRequest, SMTPTestResponse\n} from '../types';\n\nconsole.log('ðŸ”¥ API SERVICE LOADED AT', new Date().toISOString());\n\n// Base API configuration\n// Explicitly construct the API URL to ensure HTTPS and correct port\n// Service port mapping for development (kept for reference)\n// const SERVICE_PORTS = {\n//   auth: 3001,\n//   users: 3002,\n//   credentials: 3004,\n//   targets: 3005,\n//   jobs: 3006,\n//   executor: 3007,\n//   notifications: 3009,\n//   stepLibraries: 3011\n// };\n\nexport const getApiBaseUrl = () => {\n  if (process.env.REACT_APP_API_URL) {\n    return process.env.REACT_APP_API_URL;\n  }\n  \n  // If running on development port 3000, use nginx proxy\n  if (window.location.port === '3000') {\n    return 'http://localhost';\n  }\n  \n  // Use current window location but ensure correct protocol\n  const protocol = window.location.protocol;\n  const hostname = window.location.hostname;\n  \n  // Only include port if it's not the standard port for the protocol\n  if (window.location.port && \n      !((protocol === 'https:' && window.location.port === '443') || \n        (protocol === 'http:' && window.location.port === '80'))) {\n    return `${protocol}//${hostname}:${window.location.port}`;\n  }\n  \n  return `${protocol}//${hostname}`;\n};\n\nexport const getServiceUrl = (service: string) => {\n  // Always use the nginx proxy instead of direct service ports\n  return getApiBaseUrl();\n};\n\n// Create axios instance with dynamic baseURL\nconst api = axios.create({\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Request interceptor to set dynamic baseURL\napi.interceptors.request.use(\n  (config) => {\n    // Set dynamic baseURL for each request\n    config.baseURL = getApiBaseUrl();\n    \n    // Add access token if available (simple session-based auth)\n    const accessToken = localStorage.getItem('access_token');\n    if (accessToken) {\n      config.headers.Authorization = `Bearer ${accessToken}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor to handle auth errors\napi.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    // Handle auth errors by redirecting to login\n    if (error.response?.status === 401 || error.response?.status === 403) {\n      console.log('Authentication required, redirecting to login');\n      clearTokens();\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\n// Simple session management functions\nexport const setSessionToken = (token: string) => {\n  localStorage.setItem('access_token', token);\n};\n\nexport const clearTokens = () => {\n  localStorage.removeItem('access_token');\n  localStorage.removeItem('user');\n};\n\nexport const isAuthenticated = (): boolean => {\n  return !!localStorage.getItem('access_token');\n};\n\n// Auth API\nexport const authApi = {\n  login: async (credentials: LoginRequest): Promise<AuthResponse> => {\n    const response: AxiosResponse<AuthResponse> = await axios.post(`${getApiBaseUrl()}/api/v1/auth/login`, credentials);\n    return response.data;\n  },\n\n  logout: async (): Promise<void> => {\n    await api.post('/api/v1/auth/logout');\n    clearTokens();\n  },\n\n  verify: async (): Promise<{ valid: boolean; user: User }> => {\n    const response = await api.get('/api/v1/auth/verify');\n    return response.data;\n  }\n};\n\n// User API\nexport const userApi = {\n  list: async (skip = 0, limit = 100): Promise<UserListResponse> => {\n    const response: AxiosResponse<UserListResponse> = await api.get('/api/v1/users', {\n      params: { skip, limit }\n    });\n    return response.data;\n  },\n\n  get: async (id: number): Promise<User> => {\n    const response: AxiosResponse<User> = await api.get(`/api/v1/users/${id}`);\n    return response.data;\n  },\n\n  create: async (userData: UserCreate): Promise<User> => {\n    const response: AxiosResponse<User> = await api.post('/api/v1/users', userData);\n    return response.data;\n  },\n\n  update: async (id: number, userData: UserUpdate): Promise<User> => {\n    const response: AxiosResponse<User> = await api.put(`/api/v1/users/${id}`, userData);\n    return response.data;\n  },\n\n  delete: async (id: number): Promise<void> => {\n    await api.delete(`/api/v1/users/${id}`);\n  },\n\n  assignRole: async (id: number, role: string): Promise<void> => {\n    await api.post(`/api/v1/users/${id}/roles`, { role });\n  }\n};\n\n// Roles API\nexport const rolesApi = {\n  list: async (): Promise<AxiosResponse<{success: boolean, data: Array<{id: number, name: string, description: string}>}>> => {\n    return api.get('/api/v1/available-roles');\n  },\n\n  listFull: async (): Promise<AxiosResponse<{success: boolean, data: Array<{id: number, name: string, description: string, permissions: string[], is_active: boolean, created_at: string, updated_at: string}>}>> => {\n    return api.get('/api/v1/roles');\n  }\n};\n\n\n\n// Target API\nexport const targetApi = {\n  list: async (skip = 0, limit = 100): Promise<TargetListResponse> => {\n    const response: AxiosResponse<TargetListResponse> = await api.get('/api/v1/targets', {\n      params: { skip, limit }\n    });\n    return response.data;\n  },\n\n  get: async (id: number): Promise<Target> => {\n    const response: AxiosResponse<Target> = await api.get(`/api/v1/targets/${id}`);\n    return response.data;\n  },\n\n  create: async (targetData: TargetCreate): Promise<Target> => {\n    const response: AxiosResponse<Target> = await api.post('/api/v1/targets', targetData);\n    return response.data;\n  },\n\n  update: async (id: number, targetData: Partial<TargetCreate>): Promise<Target> => {\n    const response: AxiosResponse<Target> = await api.put(`/api/v1/targets/${id}`, targetData);\n    return response.data;\n  },\n\n  delete: async (id: number): Promise<void> => {\n    await api.delete(`/api/v1/targets/${id}`);\n  },\n\n  testWinRM: async (id: number): Promise<WinRMTestResult> => {\n    const response = await api.post(`/api/v1/targets/${id}/test-winrm`);\n    return response.data;\n  },\n\n  testSSH: async (id: number): Promise<SSHTestResult> => {\n    const response = await api.post(`/api/v1/targets/${id}/test-ssh`);\n    return response.data;\n  }\n};\n\n// Target Group API\nexport const targetGroupApi = {\n  list: async (includeCount = false): Promise<any> => {\n    const response = await api.get('/api/v1/target-groups', {\n      params: { include_counts: includeCount }\n    });\n    return response.data;\n  },\n\n  getTree: async (): Promise<any> => {\n    const response = await api.get('/api/v1/target-groups-tree');\n    return response.data;\n  },\n\n  get: async (id: number): Promise<any> => {\n    const response = await api.get(`/api/v1/target-groups/${id}`);\n    return response.data;\n  },\n\n  create: async (groupData: any): Promise<any> => {\n    const response = await api.post('/api/v1/target-groups', groupData);\n    return response.data;\n  },\n\n  update: async (id: number, groupData: any): Promise<any> => {\n    const response = await api.put(`/api/v1/target-groups/${id}`, groupData);\n    return response.data;\n  },\n\n  delete: async (id: number): Promise<void> => {\n    await api.delete(`/api/v1/target-groups/${id}`);\n  },\n\n  getTargets: async (id: number): Promise<any> => {\n    const response = await api.get(`/api/v1/target-groups/${id}/targets`);\n    return response.data;\n  },\n\n  addTargets: async (id: number, targetIds: number[]): Promise<any> => {\n    const response = await api.post(`/api/v1/target-groups/${id}/targets`, {\n      target_ids: targetIds\n    });\n    return response.data;\n  },\n\n  removeTarget: async (groupId: number, targetId: number): Promise<void> => {\n    await api.delete(`/api/v1/target-groups/${groupId}/targets/${targetId}`);\n  }\n};\n\n// Asset Service Target API (for getting all targets)\nexport const assetTargetApi = {\n  list: async (): Promise<any> => {\n    const response = await api.get('/api/v1/targets');\n    return response.data;\n  }\n};\n\n// Job API\nexport const jobApi = {\n  list: async (skip = 0, limit = 100): Promise<JobListResponse> => {\n    const response: AxiosResponse<JobListResponse> = await api.get('/api/v1/jobs', {\n      params: { skip, limit }\n    });\n    return response.data;\n  },\n\n  get: async (id: number): Promise<Job> => {\n    const response: AxiosResponse<{success: boolean, data: Job}> = await api.get(`/api/v1/jobs/${id}`);\n    return response.data.data;\n  },\n\n  create: async (jobData: JobCreate): Promise<Job> => {\n    const response: AxiosResponse<{success: boolean, message: string, data: Job}> = await api.post('/api/v1/jobs', jobData);\n    return response.data.data;\n  },\n\n  update: async (id: number, jobData: Partial<JobCreate>): Promise<Job> => {\n    const response: AxiosResponse<{success: boolean, message: string, data: Job}> = await api.put(`/api/v1/jobs/${id}`, jobData);\n    return response.data.data;\n  },\n\n  delete: async (id: number): Promise<void> => {\n    await api.delete(`/api/v1/jobs/${id}`);\n  },\n\n  run: async (id: number, parameters: Record<string, any> = {}): Promise<JobRun> => {\n    const response: AxiosResponse<JobRun> = await api.post(`/api/v1/jobs/${id}/run`, { parameters });\n    return response.data;\n  },\n\n  export: async (): Promise<any> => {\n    const response: AxiosResponse<any> = await api.post('/api/v1/jobs/export', {});\n    return response.data;\n  },\n\n  import: async (importData: any): Promise<any> => {\n    const response: AxiosResponse<any> = await api.post('/api/v1/jobs/import', importData);\n    return response.data;\n  }\n};\n\n// Job Run API\nexport const jobRunApi = {\n  list: async (skip = 0, limit = 100, jobId?: number): Promise<JobRunListResponse> => {\n    const response: AxiosResponse<JobRunListResponse> = await api.get('/api/v1/runs', {\n      params: { skip, limit, job_id: jobId }\n    });\n    return response.data;\n  },\n\n  get: async (id: number): Promise<JobRun> => {\n    const response: AxiosResponse<JobRun> = await api.get(`/api/v1/runs/${id}`);\n    return response.data;\n  },\n\n  getSteps: async (id: number): Promise<JobRunStep[]> => {\n    const response: AxiosResponse<JobRunStep[]> = await api.get(`/api/v1/runs/${id}/steps`);\n    return response.data;\n  }\n};\n\n\n\n// Health Monitoring API\nexport const healthApi = {\n  checkAllServices: async (): Promise<Record<string, any>> => {\n    const startTime = Date.now();\n    try {\n      const response = await api.get('/health', {\n        timeout: 10000 // 10 second timeout for comprehensive health check\n      });\n      const responseTime = Date.now() - startTime;\n      \n      // Transform the centralized health response into the expected format\n      const healthData = response.data;\n      const results: Record<string, any> = {};\n      \n      // Add overall API Gateway status\n      results['api-gateway'] = {\n        status: healthData.status,\n        service: 'api-gateway',\n        responseTime,\n        message: healthData.message\n      };\n      \n      // Add individual service checks from the centralized response\n      if (healthData.checks) {\n        healthData.checks.forEach((check: any) => {\n          // Map service names from the health check response\n          let serviceName = check.service || check.name || 'unknown';\n          \n          // Normalize service names to match frontend expectations\n          if (serviceName.includes('identity')) {\n            results['auth'] = { ...check, service: 'auth', responseTime };\n            results['users'] = { ...check, service: 'users', responseTime };\n          } else if (serviceName.includes('asset')) {\n            results['credentials'] = { ...check, service: 'credentials', responseTime };\n            results['targets'] = { ...check, service: 'targets', responseTime };\n            results['discovery'] = { ...check, service: 'discovery', responseTime };\n          } else if (serviceName.includes('automation')) {\n            results['jobs'] = { ...check, service: 'jobs', responseTime };\n            results['executor'] = { ...check, service: 'executor', responseTime };\n            results['step-libraries'] = { ...check, service: 'step-libraries', responseTime };\n          } else if (serviceName.includes('communication')) {\n            results['notification'] = { ...check, service: 'notification', responseTime };\n          } else {\n            // For database, redis, etc.\n            results[serviceName.toLowerCase()] = { ...check, service: serviceName.toLowerCase(), responseTime };\n          }\n        });\n      }\n      \n      // Add default status for services not explicitly reported\n      const expectedServices = [\n        'auth', 'users', 'credentials', 'targets', 'jobs', 'executor', \n        'notification', 'step-libraries', 'redis', 'postgres'\n      ];\n      \n      expectedServices.forEach(service => {\n        if (!results[service]) {\n          results[service] = {\n            status: 'unknown',\n            service,\n            responseTime,\n            message: 'Service status not reported'\n          };\n        }\n      });\n      \n      return results;\n    } catch (error) {\n      const responseTime = Date.now() - startTime;\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n      \n      // Return error status for all services if health check fails\n      const services = [\n        'api-gateway', 'auth', 'users', 'credentials', 'targets', 'jobs', 'executor',\n        'notification', 'discovery', 'step-libraries', 'redis', 'postgres'\n      ];\n      \n      const results: Record<string, any> = {};\n      services.forEach(service => {\n        results[service] = {\n          status: 'unhealthy',\n          service,\n          responseTime,\n          error: errorMessage\n        };\n      });\n      \n      return results;\n    }\n  },\n\n  checkService: async (service: string): Promise<{ status: string; service: string; responseTime?: number; error?: string }> => {\n    // For individual service checks, use the centralized health endpoint\n    // and extract the specific service status\n    try {\n      const allServices = await healthApi.checkAllServices();\n      return allServices[service] || {\n        status: 'unknown',\n        service,\n        error: 'Service not found in health report'\n      };\n    } catch (error) {\n      return {\n        status: 'unhealthy',\n        service,\n        error: error instanceof Error ? error.message : 'Unknown error'\n      };\n    }\n  },\n\n  getSystemStats: async (): Promise<any> => {\n    try {\n      // Get system stats from the centralized health endpoint\n      const healthResponse = await api.get('/health');\n      const healthData = healthResponse.data;\n      \n      // Extract system statistics from health data\n      const stats = {\n        overall_status: healthData.status,\n        services_count: healthData.checks ? healthData.checks.length : 0,\n        healthy_services: healthData.checks ? healthData.checks.filter((c: any) => c.status === 'healthy').length : 0,\n        unhealthy_services: healthData.checks ? healthData.checks.filter((c: any) => c.status === 'unhealthy').length : 0,\n        timestamp: new Date().toISOString(),\n        message: healthData.message || 'System health check completed'\n      };\n      \n      return stats;\n    } catch (error) {\n      return { \n        error: 'Failed to fetch system stats',\n        overall_status: 'unhealthy',\n        services_count: 0,\n        healthy_services: 0,\n        unhealthy_services: 0,\n        timestamp: new Date().toISOString()\n      };\n    }\n  }\n};\n\n// Notification Preferences API\nexport const notificationApi = {\n  // User notification preferences\n  getUserPreferences: async (userId: number): Promise<NotificationPreferencesResponse> => {\n    const response = await api.get(`/api/v1/users/${userId}/notification-preferences`);\n    return response.data;\n  },\n\n  updateUserPreferences: async (userId: number, preferences: NotificationPreferences): Promise<NotificationPreferencesResponse> => {\n    const response = await api.put(`/api/v1/users/${userId}/notification-preferences`, preferences);\n    return response.data;\n  },\n\n  // Notification channels\n  getChannels: async (): Promise<NotificationChannel[]> => {\n    const response = await api.get('/api/v1/channels');\n    return response.data;\n  },\n\n  // SMTP settings (admin only)\n  getSMTPSettings: async (): Promise<SMTPSettingsResponse> => {\n    const response = await api.get('/api/v1/notifications/smtp');\n    return response.data;\n  },\n\n  updateSMTPSettings: async (settings: SMTPSettings): Promise<SMTPSettingsResponse> => {\n    const response = await api.post('/api/v1/notifications/smtp', settings);\n    return response.data;\n  },\n\n  testSMTPSettings: async (testRequest: SMTPTestRequest): Promise<SMTPTestResponse> => {\n    const response = await api.post('/api/v1/notifications/smtp/test', testRequest);\n    return response.data;\n  }\n};\n\n\n\n// Celery Monitoring API\nexport const celeryApi = {\n  getStatus: async (): Promise<any> => {\n    const response = await api.get('/api/v1/executor/celery/status');\n    return response.data;\n  },\n\n  getMetrics: async (): Promise<any> => {\n    const response = await api.get('/api/v1/executor/celery/metrics');\n    return response.data;\n  },\n\n  getQueues: async (): Promise<any> => {\n    const response = await api.get('/api/v1/executor/celery/queues');\n    return response.data;\n  }\n};\n\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}